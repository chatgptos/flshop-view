{"version":3,"sources":["uni-app:///main.js","webpack:///D:/soft/fenglei/code/flshop/pages/product/goods.vue?cfa0","webpack:///D:/soft/fenglei/code/flshop/pages/product/goods.vue?bd3e","webpack:///D:/soft/fenglei/code/flshop/pages/product/goods.vue?12ea","webpack:///D:/soft/fenglei/code/flshop/pages/product/goods.vue?b6b7","uni-app:///pages/product/goods.vue","webpack:///D:/soft/fenglei/code/flshop/pages/product/goods.vue?e4f1","webpack:///D:/soft/fenglei/code/flshop/pages/product/goods.vue?5e68"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;;;AAGA;AACA,+F,8FAHA;AACAA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC,CAGAC,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACa;;;AAGjE;AACmK;AACnK,gBAAgB,0KAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,8LAEN;AACP,KAAK;AACL;AACA,aAAa,gNAEN;AACP,KAAK;AACL;AACA,aAAa,sQAEN;AACP,KAAK;AACL;AACA,aAAa,sNAEN;AACP,KAAK;AACL;AACA,aAAa,0MAEN;AACP,KAAK;AACL;AACA,aAAa,0PAEN;AACP,KAAK;AACL;AACA,aAAa,4NAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC/UA;AAAA;AAAA;AAAA;AAAkmB,CAAgB,gmBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACwkBtnB,gD;AACA;AACA,MADA,kBACA;AACA;AACA,eADA;AAEA,iBAFA;AAGA,qBAHA,EAGA;AACA,eAJA,EAIA;AACA,sBALA,EAKA;AACA,sBANA,EAMA;AACA,kHAPA,EAOA;AACA,qBARA;AASA;AACA;AACA,aADA;AAEA,sBAFA;AAGA,kBAHA;AAIA,mBAJA;AAKA,qBALA;AAMA,iBANA;AAOA,iBAPA;AAQA,kBARA;AASA,gBATA;AAUA,mBAVA;AAWA,8BAXA;AAYA,8BAZA;AAaA,mBAbA;AAcA,4BAdA;AAeA,0BAfA;AAgBA,gBAhBA;AAiBA,iBAjBA;AAkBA;AACA,kBADA;AAEA,uBAFA,EAlBA;;AAsBA,kBAtBA;AAuBA,kBAvBA;AAwBA,iBAxBA;AAyBA,mBAzBA;AA0BA,mBA1BA;AA2BA,eA3BA;AA4BA,gBA5BA;AA6BA,kBA7BA;AA8BA,oBA9BA;AA+BA,oBA/BA;AAgCA,eAhCA;AAiCA,eAjCA;AAkCA,qBAlCA;AAmCA,kBAnCA;AAoCA;AACA,kBADA;AAEA,mBAFA;AAGA,iBAHA,EApCA;;AAyCA;AACA;AACA,mBADA,EADA;;AAIA,kBAJA,EAzCA;;AA+CA,0BA/CA,EAVA;;AA2DA;AACA,kBA5DA;AA6DA,kBA7DA;AA8DA,qBA9DA,EA8DA;AACA,kBA/DA,EA+DA;AACA,uBAhEA;AAiEA;AACA,wBADA;AAEA,iCAFA;AAGA,gCAHA,EAjEA;;AAsEA;AACA,sBAvEA,EAuEA;AACA,mBAxEA,EAwEA;AACA,kBAzEA,EAyEA;AACA,oBA1EA,EA0EA;AACA,kBA3EA,EA2EA;AACA,kBA5EA,EA4EA;AACA,0BA7EA,CA6EA;AA7EA;AA+EA,GAjFA;AAkFA,QAlFA,kBAkFA,MAlFA,EAkFA;AACA;AACA;AACA;;AAEA;AACA,2BADA;AAEA,iDAFA;;;AAKA;AACA;AACA,6CADA;AAEA,4CAFA;AAGA,0CAHA;AAIA,6CAJA;AAKA,gDALA;AAMA,+CAPA;AAQA,GApGA;AAqGA,cArGA,wBAqGA,CArGA,EAqGA;AACA;AACA;AACA,yDAHA,CAGA;AACA,kDAJA,CAIA;AACA,GA1GA;AA2GA,eA3GA,2BA2GA;AACA;AACA;AACA;AACA,KAFA,MAEA;AACA;AACA,gDAFA,CAEA;AACA;AACA;AACA;AACA,GArHA;AAsHA;AACA,cADA,sBACA,CADA,EACA,CADA,EACA;AACA;AACA;AACA;AACA;AACA,KANA,EAtHA;;AA8HA;AACA,YADA,sBACA;AACA;AACA,KAHA;AAIA,yCAJA,CA9HA;;AAoIA;AACA,YADA,oBACA,MADA,EACA;AACA;AACA;AACA,+CADA;AAEA,8BAFA;AAGA;AACA;AACA;AACA;AACA;AACA,qBAHA;AAIA;AACA;AACA;AACA;AACA,qBAHA,MAGA;AACA;AACA,uCADA,CADA;AAGA,6BAHA,aAGA;AACA;AACA;AACA,yBANA;AAOA;AACA,4DADA;AAEA,yEAFA;AAGA,6IAVA,CAUA;AACA,2EAXA,CAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAFA;AAGA;AACA;AACA,qBAPA;AAQA;AACA;AACA;AACA;AACA,uBAFA;AAGA,qBAJA;AAKA,sCAvCA,CAuCA;AACA,0CAxCA,CAwCA;AACA;AACA;AACA;AACA,qBAFA,EAEA,IAFA;AAGA,mBAhDA,IAFA;;AAoDA,KArDA;AAsDA;AACA,gBAvDA,0BAuDA;AACA;AACA,2DADA;AAEA;AACA,6CADA,EAFA;;AAKA;AACA,kGADA,CACA;AACA,2DAFA,CAEA;AACA,qDAHA,CAGA;AACA;AACA,mBAVA,IADA;;AAaA,KApEA;AAqEA;AACA,eAtEA,uBAsEA,KAtEA,EAsEA;AACA;AACA,8CADA;AAEA;AACA,qDADA;AAEA,iDAFA;AAGA,uEAHA;AAIA,gCAJA,EAFA;;AAQA;AACA;AACA,mBAVA,IADA;;AAaA,KAnFA;AAoFA;AACA,aArFA,qBAqFA,KArFA,EAqFA;AACA,sBADA,GACA,8BADA;AAEA;AACA,gDADA;AAEA,mCAFA;AAGA;AACA,iCADA,EAHA;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA,+EADA;;AAGA,mBAdA,IAFA;;AAkBA,KAvGA;AAwGA,aAxGA,qBAwGA,MAxGA,EAwGA;AACA;AACA,+CADA;AAEA;AACA,kCADA,EAFA;;AAKA;AACA;AACA,mBAPA,IADA;;AAUA,KAlHA;;;;;AAuHA;AACA,YAxHA,oBAwHA,KAxHA,EAwHA,MAxHA,EAwHA,KAxHA,EAwHA,KAxHA,EAwHA;AACA;AACA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA;AAGA;AACA;AACA;AACA;AACA,KA7IA;AA8IA;AACA,eA/IA,uBA+IA,UA/IA,EA+IA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAtKA;AAuKA;AACA,aAxKA,uBAwKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WANA,CADA;;AASA,SAXA;AAYA,YAZA,CADA;;;AAgBA,OAlBA;AAmBA,UAnBA;;AAqBA,KA9LA;AA+LA;AACA,aAhMA,qBAgMA,GAhMA,EAgMA;AACA;AACA;AACA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA;AACA,KA1MA;AA2MA;AACA,gBA5MA,wBA4MA,CA5MA,EA4MA;AACA;AACA,KA9MA;AA+MA;AACA,aAhNA,qBAgNA,IAhNA,EAgNA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,EAEA,GAFA;AAGA;AACA;AACA,KAzNA;AA0NA;AACA,aA3NA,qBA2NA,IA3NA,EA2NA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAjOA;AAkOA;AACA,aAnOA,qBAmOA,CAnOA,EAmOA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAzOA;AA0OA;AACA,cA3OA,wBA2OA,EA3OA;AA4OA;AACA,UA7OA,oBA6OA;AACA;AACA;AACA;AACA;AACA,yEADA;;AAGA,OAJA,MAIA;AACA;AACA,yEADA;;AAGA;AACA;AACA,sCADA;AAEA;AACA,+BADA,EAFA;;AAKA;AACA;AACA,SAPA;;AASA,KAlQA;AAmQA;AACA,YApQA,oBAoQA,KApQA,EAoQA;AACA;AACA;AACA,6CADA;AAEA,qBAFA;;AAIA,KA1QA;AA2QA;AACA,cA5QA,wBA4QA;AACA;AACA;;AAEA;;;;;AAKA;AACA;AACA,OAFA,EAEA,IAFA;AAGA;AACA;AACA,OAFA,EAEA,IAFA;AAGA;AACA;AACA,OAFA,EAEA,IAFA;AAGA,KA9RA;AA+RA;AACA,SAhSA,iBAgSA,GAhSA,EAgSA;AACA;AACA,KAlSA;AAmSA;AACA,UApSA,oBAoSA;AACA;AACA,KAtSA;AAuSA;AACA,qBAxSA,+BAwSA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KA9SA;AA+SA;AACA,cAhTA,sBAgTA,IAhTA,EAgTA,IAhTA,EAgTA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA,OAPA,MAOA;AACA;AACA;AACA;AACA,KAjUA;AAkUA,kBAlUA,4BAkUA;AACA;AACA;AACA,yCADA;AAEA,iDAFA;AAGA,qCAHA;AAIA,qCAJA;AAKA,gCALA;AAMA,qCANA;AAOA,8BAPA;AAQA,oCARA;AASA,yEATA;;AAWA;AACA,OAbA,MAaA;AACA;AACA;AACA,qCADA;AAEA,gCAFA;AAGA,oCAHA,EADA;;;AAOA;AACA;AACA;AACA,uGADA;;AAGA,SAJA,MAIA;AACA;AACA;;AAEA,OAjBA,MAiBA;AACA;AACA;AACA;AACA,KArWA;AAsWA,iBAtWA,yBAsWA,IAtWA,EAsWA;AACA;AACA,KAxWA,EApIA,E;;;;;;;;;;;;;ACzkBA;AAAA;AAAA;AAAA;AAAq3B,CAAgB,+0BAAG,EAAC,C;;;;;;;;;;;ACAz4B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/product/goods.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/product/goods.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./goods.vue?vue&type=template&id=768e0b8d&\"\nvar renderjs\nimport script from \"./goods.vue?vue&type=script&lang=js&\"\nexport * from \"./goods.vue?vue&type=script&lang=js&\"\nimport style0 from \"./goods.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../hbuild/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/product/goods.vue\"\nexport default component.exports","export * from \"-!../../../../../hbuild/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../hbuild/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../hbuild/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../hbuild/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../hbuild/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuild/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=template&id=768e0b8d&\"","var components\ntry {\n  components = {\n    wanlRate: function() {\n      return import(\n        /* webpackChunkName: \"components/wanl-rate/wanl-rate\" */ \"@/components/wanl-rate/wanl-rate.vue\"\n      )\n    },\n    wanlDivider: function() {\n      return import(\n        /* webpackChunkName: \"components/wanl-divider/wanl-divider\" */ \"@/components/wanl-divider/wanl-divider.vue\"\n      )\n    },\n    wanlProduct: function() {\n      return import(\n        /* webpackChunkName: \"components/wanl-product/wanl-product\" */ \"@/components/wanl-product/wanl-product.vue\"\n      )\n    },\n    uniLoadMore: function() {\n      return import(\n        /* webpackChunkName: \"components/uni-load-more/uni-load-more\" */ \"@/components/uni-load-more/uni-load-more.vue\"\n      )\n    },\n    wanlDirect: function() {\n      return import(\n        /* webpackChunkName: \"components/wanl-direct/wanl-direct\" */ \"@/components/wanl-direct/wanl-direct.vue\"\n      )\n    },\n    wanlShare: function() {\n      return import(\n        /* webpackChunkName: \"components/wanl-share/wanl-share\" */ \"@/components/wanl-share/wanl-share.vue\"\n      )\n    },\n    uniNumberBox: function() {\n      return import(\n        /* webpackChunkName: \"components/uni-number-box/uni-number-box\" */ \"@/components/uni-number-box/uni-number-box.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.goodsData.images, function(swiper, index) {\n    var $orig = _vm.__get_orig(swiper)\n\n    var g0 = _vm.$flbooth.oss(swiper, 400, 0)\n    return {\n      $orig: $orig,\n      g0: g0\n    }\n  })\n\n  var g1 = _vm.goodsData.shop.city ? _vm.goodsData.shop.city.split(\"/\") : null\n  var l1 =\n    _vm.goodsData.coupon.length != 0\n      ? _vm.__map(_vm.goodsData.coupon, function(item, index) {\n          var $orig = _vm.__get_orig(item)\n\n          var m0 =\n            index < 2 &&\n            (item.type == \"reduction\" ||\n              (item.type == \"vip\" && item.usertype == \"reduction\"))\n              ? Number(item.price)\n              : null\n          var m1 =\n            index < 2 &&\n            (item.type == \"reduction\" ||\n              (item.type == \"vip\" && item.usertype == \"reduction\"))\n              ? Number(item.limit)\n              : null\n          var m2 =\n            index < 2 &&\n            (item.type == \"reduction\" ||\n              (item.type == \"vip\" && item.usertype == \"reduction\"))\n              ? Number(item.price)\n              : null\n          var m3 =\n            index < 2 &&\n            (item.type == \"discount\" ||\n              (item.type == \"vip\" && item.usertype == \"discount\"))\n              ? Number(item.discount)\n              : null\n          var m4 =\n            index < 2 &&\n            (item.type == \"discount\" ||\n              (item.type == \"vip\" && item.usertype == \"discount\"))\n              ? Number(item.limit)\n              : null\n          var m5 =\n            index < 2 &&\n            (item.type == \"discount\" ||\n              (item.type == \"vip\" && item.usertype == \"discount\"))\n              ? Number(item.discount)\n              : null\n          var m6 =\n            index < 2 && item.type == \"shipping\" ? Number(item.limit) : null\n          return {\n            $orig: $orig,\n            m0: m0,\n            m1: m1,\n            m2: m2,\n            m3: m3,\n            m4: m4,\n            m5: m5,\n            m6: m6\n          }\n        })\n      : null\n  var l2 = !_vm.canCount\n    ? _vm.__map(_vm.selectArr, function(name, key) {\n        var $orig = _vm.__get_orig(name)\n\n        var g2 = _vm.$base64.decode(name)\n        return {\n          $orig: $orig,\n          g2: g2\n        }\n      })\n    : null\n\n  var l4 = _vm.__map(_vm.goodsData.spu, function(item, index) {\n    var $orig = _vm.__get_orig(item)\n\n    var l3 = _vm.__map(item.item, function(tag, __i0__) {\n      var $orig = _vm.__get_orig(tag)\n\n      var g3 = index == 0 ? _vm.$base64.decode(tag.name) : null\n      return {\n        $orig: $orig,\n        g3: g3\n      }\n    })\n\n    return {\n      $orig: $orig,\n      l3: l3\n    }\n  })\n\n  var m7 =\n    _vm.goodsData.comment > 0\n      ? parseInt((_vm.goodsData.praise / _vm.goodsData.comment) * 100)\n      : null\n\n  var l6 = _vm.__map(_vm.goodsData.comment_list.data, function(item, index) {\n    var $orig = _vm.__get_orig(item)\n\n    var g4 = _vm.$flbooth.oss(item.user.avatar, 26, 26, 2, \"avatar\")\n    var l5 =\n      item.images.length != 0\n        ? _vm.__map(item.images, function(image, index) {\n            var $orig = _vm.__get_orig(image)\n\n            var g5 = index <= 3 ? _vm.$flbooth.oss(image, 88, 88) : null\n            return {\n              $orig: $orig,\n              g5: g5\n            }\n          })\n        : null\n    return {\n      $orig: $orig,\n      g4: g4,\n      l5: l5\n    }\n  })\n\n  var g6 = _vm.$flbooth.oss(_vm.goodsData.shop.avatar, 52, 52, 2, \"avatar\")\n  var g7 = _vm.$flbooth.toFormat(_vm.goodsData.shop.find_user.fans, \"thousand\")\n\n  var l7 = _vm.__map(_vm.goodsData.shop_recommend, function(item, index) {\n    var $orig = _vm.__get_orig(item)\n\n    var g8 = _vm.$flbooth.oss(item.image, 125, 120)\n    return {\n      $orig: $orig,\n      g8: g8\n    }\n  })\n\n  var g9 = _vm.$flbooth.appstc(\"/coupon/bg_coupon_3x.png\")\n\n  var l8 = _vm.__map(_vm.goodsData.coupon, function(coupon, index) {\n    var $orig = _vm.__get_orig(coupon)\n\n    var g10 = coupon.state\n      ? _vm.$flbooth.appstc(\"/coupon/img_couponcentre_received_3x.png\")\n      : null\n    var m8 =\n      coupon.type == \"reduction\" ||\n      (coupon.type == \"vip\" && coupon.usertype == \"reduction\")\n        ? Number(coupon.price)\n        : null\n    var m9 =\n      coupon.type == \"reduction\" ||\n      (coupon.type == \"vip\" && coupon.usertype == \"reduction\")\n        ? Number(coupon.limit)\n        : null\n    var m10 =\n      coupon.type == \"reduction\" ||\n      (coupon.type == \"vip\" && coupon.usertype == \"reduction\")\n        ? Number(coupon.price)\n        : null\n    var m11 =\n      coupon.type == \"discount\" ||\n      (coupon.type == \"vip\" && coupon.usertype == \"discount\")\n        ? Number(coupon.discount)\n        : null\n    var m12 =\n      coupon.type == \"discount\" ||\n      (coupon.type == \"vip\" && coupon.usertype == \"discount\")\n        ? Number(coupon.limit)\n        : null\n    var m13 =\n      coupon.type == \"discount\" ||\n      (coupon.type == \"vip\" && coupon.usertype == \"discount\")\n        ? Number(coupon.discount)\n        : null\n    var m14 = coupon.type == \"shipping\" ? Number(coupon.limit) : null\n    return {\n      $orig: $orig,\n      g10: g10,\n      m8: m8,\n      m9: m9,\n      m10: m10,\n      m11: m11,\n      m12: m12,\n      m13: m13,\n      m14: m14\n    }\n  })\n\n  var g11 = _vm.$flbooth.oss(_vm.goodsData.image, 50, 50)\n  var g12 = _vm.$flbooth.oss(\n    _vm.selectshop.thumbnail || _vm.goodsData.image,\n    100,\n    100\n  )\n  var g13 = _vm.selectArr.join(\"\")\n  var g14 = _vm.selectArr.join(\"\")\n  var l9 = g14\n    ? _vm.__map(_vm.selectArr, function(name, key) {\n        var $orig = _vm.__get_orig(name)\n\n        var g15 = _vm.$base64.decode(name)\n        return {\n          $orig: $orig,\n          g15: g15\n        }\n      })\n    : null\n  var l10 = !g14\n    ? _vm.__map(_vm.goodsData.spu, function(item, index) {\n        var $orig = _vm.__get_orig(item)\n\n        var g16 = _vm.$base64.decode(item.name)\n        return {\n          $orig: $orig,\n          g16: g16\n        }\n      })\n    : null\n\n  var l12 = _vm.__map(_vm.goodsData.spu, function(value, spukey) {\n    var $orig = _vm.__get_orig(value)\n\n    var l11 = _vm.__map(value.item, function(item, index) {\n      var $orig = _vm.__get_orig(item)\n\n      var g17 = _vm.$base64.decode(item.name)\n      return {\n        $orig: $orig,\n        g17: g17\n      }\n    })\n\n    return {\n      $orig: $orig,\n      l11: l11\n    }\n  })\n\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      return _vm.$flbooth.back(1)\n    }\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        g1: g1,\n        l1: l1,\n        l2: l2,\n        l4: l4,\n        m7: m7,\n        l6: l6,\n        g6: g6,\n        g7: g7,\n        l7: l7,\n        g9: g9,\n        l8: l8,\n        g11: g11,\n        g12: g12,\n        g13: g13,\n        g14: g14,\n        l9: l9,\n        l10: l10,\n        l12: l12\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../hbuild/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../hbuild/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../hbuild/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../hbuild/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuild/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../hbuild/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../hbuild/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../hbuild/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../hbuild/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuild/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"wanl-goods\">\r\n\t\t<!-- 导航条 -->\r\n\t\t<view class=\"cu-custom\" :style=\"{ height: wanlsys.height + 'px' }\">\r\n\t\t\t<view class=\"cu-bar fixed\" :style=\"{ height: wanlsys.height + 'px', paddingTop: wanlsys.top + 'px' }\">\r\n\t\t\t\t<view class=\"action\" @tap=\"$flbooth.back(1)\"><text class=\"wlIcon-fanhui1\"></text></view>\r\n\t\t\t\t<view class=\"search-form round\">\r\n\t\t\t\t\t<text class=\"wlIcon-sousuo1 text-bold\"></text>\r\n\t\t\t\t\t<swiper class=\"search-swiper placeholder\" vertical autoplay circular interval=\"3000\">\r\n\t\t\t\t\t\t<swiper-item @tap=\"productSearch('')\">搜索商品、类目</swiper-item>\r\n\t\t\t\t\t</swiper>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"action\">\r\n\t\t\t\t\t<!-- #ifndef MP -->\r\n\t\t\t\t\t<text class=\"wlIcon-fenxiangcopy\" @tap=\"showModal('share')\"></text>\r\n\t\t\t\t\t<text class=\"wlIcon-liebiaomoshi\" @tap=\"showModal('menu')\"></text>\r\n\t\t\t\t\t<text class=\"wlIcon-31gouwuche\" @tap=\"toCart\"></text>\r\n\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<view class=\"bar-bg solid-bottom\" :style=\"{ top: wanlsys.height + 'px', opacity: headerOpacity }\">\r\n\t\t\t\t\t<scroll-view scroll-x class=\"nav\">\r\n\t\t\t\t\t\t<view class=\"flex justify-around text-center\">\r\n\t\t\t\t\t\t\t<view class=\"cu-item \" :class=\"selectAnchor==index?'text-orange cur':''\" v-for=\"(anchor, index) in anchorlist\" :key=\"anchor.name\" @tap=\"toAnchor(index)\">\r\n\t\t\t\t\t\t\t\t{{ anchor.name }}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</scroll-view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 直播 -->\r\n\t\t\t\t<view class=\"wan-live\" v-if=\"goodsData.isLive\" @tap=\"onLive(goodsData.isLive.id)\">\r\n\t\t\t\t\t<view class=\"tag shadow-blur\" :style=\"{top:wanlsys.height + 47 + 'px' }\">\r\n\t\t\t\t\t\t<view class=\"text-center\">\r\n\t\t\t\t\t\t\t<view class=\"live\">\r\n\t\t\t\t\t\t\t\t<view class=\"wanLive-icon\"> </view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<text class=\"text-white margin-lr-xs\"> 在直播 </text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 商品主图轮播 -->\r\n\t\t<view class=\"swiper-box\" id=\"swiper\">\r\n\t\t\t<swiper circular=\"true\" autoplay=\"true\" @change=\"swiperChange\">\r\n\t\t\t\t<swiper-item v-for=\"(swiper, index) in goodsData.images\" :key=\"index\">\r\n\t\t\t\t\t<image :src=\"$flbooth.oss(swiper, 400, 0)\" mode=\"aspectFill\"/>\r\n\t\t\t\t</swiper-item>\r\n\t\t\t</swiper>\r\n\t\t\t<view class=\"indicator\">{{ currentSwiper + 1 }}/{{ goodsData.images.length }}</view>\r\n\t\t</view>\r\n\t\t<!-- 产品 -->\r\n\t\t<view class=\"bg-white\">\r\n\t\t\t<!-- 秒杀 -->\r\n\t\t\t<view v-if=\"goodsData.activity_type === 'seckill'\" class=\"price-rush bg-gradual-red margin-bottom-sm\">\r\n\t\t\t\t<view class=\"price align-center  padding-lr-bj\">\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t<view class=\"text-price text-white text-xxl text-bold margin-right-xs\">0<text class=\"text-lg\">.00</text>\r\n\t\t\t\t\t\t\t<text class=\"margin-left-sm text-sm\">已抢<text class=\"amount\">0</text>件</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"text-sm text-white text-price\"><text class=\"text-dec\">0.00</text></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t<view class=\"text-xs margin-bottom-xs\">距结束还剩：</view>\r\n\t\t\t\t\t\t<wanl-countdown \r\n\t\t\t\t\t\t\t:time=\"1\" \r\n\t\t\t\t\t\t\t:height=\"40\" \r\n\t\t\t\t\t\t\t:width=\"40\" \r\n\t\t\t\t\t\t\t:size=\"28\" \r\n\t\t\t\t\t\t\t:colonsize=\"32\" \r\n\t\t\t\t\t\t\tcolor=\"#ec008c\" \r\n\t\t\t\t\t\t\tbcolor=\"#ffffff\" \r\n\t\t\t\t\t\t\tbgcolor=\"#ffffff\" \r\n\t\t\t\t\t\t\tcoloncolor=\"#ffffff\"\r\n\t\t\t\t\t\t></wanl-countdown>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 普通 -->\r\n\t\t\t<view v-else class=\"price margin-bottom-sm padding-lr-bj padding-top-bj align-start\">\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<view class=\"text-price wanl-orange text-xxl margin-right-xs\">{{ goodsData.interval_price || '0.00' }}</view>\r\n\t\t\t\t\t<view class=\"text-sm wanl-gray text-dec\">\r\n\t\t\t\t\t\t市场价\r\n\t\t\t\t\t\t<text class=\"text-price margin-left-xs \">{{ goodsData.market_price || 0.0 }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"follow wanl-black\" v-if=\"goodsData.follow\" @tap=\"follow\">\r\n\t\t\t\t\t<text class=\"wlIcon-yiguanzhu1 text-red\"></text>\r\n\t\t\t\t\t<text class=\"text-xs\">取关</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"follow wanl-black\" v-else @tap=\"follow\">\r\n\t\t\t\t\t<text class=\"wlIcon-gerenguanzhu\"></text>\r\n\t\t\t\t\t<text class=\"text-xs\">关注</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 标题，分享 -->\r\n\t\t\t<view class=\"title padding-lr-bj padding-bottom-bj\">\r\n\t\t\t\t<view class=\"name wanl-black text-lg text-cut-2\">\r\n\t\t\t\t\t<view v-if=\"goodsData.shop.isself == 1\" class=\"cu-tag radius margin-right-xs sm bg-red\">自营</view>\r\n\t\t\t\t\t{{ goodsData.title || '加载中...' }}\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"share\" @tap=\"showModal('share')\">\r\n\t\t\t\t\t<view class=\"button wanl-gray-light margin-bottom\">\r\n\t\t\t\t\t\t<text class=\"wlIcon-fenxiangcopy margin-right-xs\"></text>\r\n\t\t\t\t\t\t<text class=\"text-sm\">分享</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"block text-min padding-lr padding-bottom-bj\">\r\n\t\t\t\t<view class=\"wanl-gray\">\r\n\t\t\t\t\t<text class=\"wlIcon-weizhi margin-right-xs\"></text>\r\n\t\t\t\t\t{{ goodsData.shop.city ? goodsData.shop.city.split('/')[1] : '中国' }}\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"wanl-gray\">\r\n\t\t\t\t\t快递费：\r\n\t\t\t\t\t<text class=\"text-price\">{{ goodsData.freight.price }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"wanl-gray\">\r\n\t\t\t\t\t月销\r\n\t\t\t\t\t<text class=\"margin-left-xs\">{{ goodsData.sales }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 营销 -->\r\n\t\t<view class=\"promotion text-sm\">\r\n\t\t\t<!-- <view class=\"item\" @tap=\"showModal('promotion')\">\r\n\t\t\t\t<view class=\"label wanl-gray\">促销</view>\r\n\t\t\t\t<view class=\"conten\">\r\n\t\t\t\t\t<view class=\"promotion-header\">\r\n\t\t\t\t\t\t<text class=\"wlIcon-31daifahuo wanl-red margin-right-xs\"></text>\r\n\t\t\t\t\t\t参加一下活动，预计可省 <text class=\"wanl-red text-price margin-lr-xs\">10.00</text> 元\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"promotion-header\">\r\n\t\t\t\t\t\t<view class=\"cu-tag sm line-orange round margin-right-xs\">\r\n\t\t\t\t\t\t\t满80包邮\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t购物满80元包邮\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"promotion-header\">\r\n\t\t\t\t\t\t<view class=\"cu-tag sm line-orange round margin-right-xs\">\r\n\t\t\t\t\t\t\t满二送一\r\n\t\t\t\t\t\t</view>买满二个送一，买满五送三\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"bnt-quan wanl-gray\">\r\n\t\t\t\t\t更多<text class=\"wlIcon-fanhui2 margin-left-xs\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t</view> -->\r\n\t\t\t<view class=\"item\" @tap=\"showModal('coupon')\" v-if=\"goodsData.coupon.length != 0\">\r\n\t\t\t\t<view class=\"label wanl-gray\">领券</view>\r\n\t\t\t\t<view class=\"conten flex \">\r\n\t\t\t\t\t<view class=\"wanl-ticket text-sm\" v-for=\"(item, index) in goodsData.coupon\" :key=\"index\" v-if=\"index < 2\">\r\n\t\t\t\t\t\t<block v-if=\"item.type == 'reduction' || (item.type == 'vip' && item.usertype == 'reduction')\">\r\n\t\t\t\t\t\t\t<view class=\"ticket-price\"> ￥{{Number(item.price)}} </view>\r\n\t\t\t\t\t\t\t<view class=\"ticket-title\"> <text>满{{Number(item.limit)}}减{{Number(item.price)}}</text> </view>\r\n\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t<block v-if=\"item.type == 'discount' || (item.type == 'vip' && item.usertype == 'discount')\">\r\n\t\t\t\t\t\t\t<view class=\"ticket-price\"> {{Number(item.discount)}}折 </view>\r\n\t\t\t\t\t\t\t<view class=\"ticket-title\"> <text>满{{Number(item.limit)}}打{{Number(item.discount)}}折</text> </view>\r\n\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t<block v-if=\"item.type == 'shipping'\">\r\n\t\t\t\t\t\t\t<view class=\"ticket-price\"> 包邮 </view>\r\n\t\t\t\t\t\t\t<view class=\"ticket-title\"> <text>满{{Number(item.limit)}}元包邮</text> </view>\r\n\t\t\t\t\t\t</block>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"bnt-quan wanl-gray\">\r\n\t\t\t\t\t更多<text class=\"wlIcon-fanhui2 margin-left-xs\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 选择商品 -->\r\n\t\t<view class=\"choice margin-bottom-bj padding-bj text-sm bg-white\">\r\n\t\t\t<view class=\"commodity  margin-bottom-bj\" @tap=\"showModal('option')\">\r\n\t\t\t\t<view class=\"opt\">\r\n\t\t\t\t\t<view class=\"title wanl-gray\">选择</view>\r\n\t\t\t\t\t<view class=\"option\">\r\n\t\t\t\t\t\t<view class=\"selected\">\r\n\t\t\t\t\t\t\t<view v-if=\"canCount\">\r\n\t\t\t\t\t\t\t\t选择\r\n\t\t\t\t\t\t\t\t<text class=\"margin-lr-xs\" v-for=\"(item, index) in goodsData.spu\" :key=\"item.id\">{{ item.name }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view v-else>\r\n\t\t\t\t\t\t\t\t<text class=\"margin-right-bj\">已选</text>\r\n\t\t\t\t\t\t\t\t<text class=\"margin-right-xs\" v-for=\"(name, key) in selectArr\">{{ $base64.decode(name) }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"option-list\">\r\n\t\t\t\t\t\t\t<view v-for=\"(item, index) in goodsData.spu\" :key=\"item.id\">\r\n\t\t\t\t\t\t\t\t<text class=\"cu-tag\" v-if=\"index == 0\" v-for=\"tag in item.item\" :key=\"tag.name\">\r\n\t\t\t\t\t\t\t\t{{ $base64.decode(tag.name) }}\r\n\t\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t\t\t<text class=\"cu-tag\" v-if=\"index == 0\">更多规格可选</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"text-sm wanl-gray\"><text class=\"wlIcon-fanhui2\"></text></view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"commodity\" @tap=\"showModal('service')\">\r\n\t\t\t\t<view class=\"opt\">\r\n\t\t\t\t\t<view class=\"title wanl-gray text-sm\">服务</view>\r\n\t\t\t\t\t<view class=\"option\">\r\n\t\t\t\t\t\t<view class=\"selected\">\r\n\t\t\t\t\t\t\t<block v-for=\"(item, index) in goodsData.shop.service_ids\" :key=\"item.id\" v-if=\"index <= 2\">\r\n\t\t\t\t\t\t\t\t<text class=\"margin-lr-xs\" v-if=\"index != 0\">·</text>\r\n\t\t\t\t\t\t\t\t{{ item.name }}\r\n\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"text-min wanl-gray\"><text class=\"wlIcon-fanhui2\"></text></view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 产品参数 -->\r\n\t\t<view class=\"choice margin-bottom-bj padding-bj text-sm bg-white\">\r\n\t\t\t<view class=\"commodity\" @tap=\"showModal('attribute')\">\r\n\t\t\t\t<view class=\"opt\">\r\n\t\t\t\t\t<view class=\"title wanl-gray text-sm\">参数</view>\r\n\t\t\t\t\t<view class=\"option\">\r\n\t\t\t\t\t\t<view class=\"selected\"><text>品牌、规格等...</text></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"text-min wanl-gray\"><text class=\"wlIcon-fanhui2\"></text></view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 评论 -->\r\n\t\t<view class=\"comment margin-bottom-bj padding-bj bg-white\" id=\"evaluate\">\r\n\t\t\t<view class=\"head\" @tap=\"onTag('')\">\r\n\t\t\t\t<view>宝贝评论({{ goodsData.comment }})</view>\r\n\t\t\t\t<view class=\"wanl-gray wanl-orange\">\r\n\t\t\t\t\t{{ goodsData.comment > 0 ? parseInt((goodsData.praise / goodsData.comment) * 100) : 0 }}%好评率\r\n\t\t\t\t\t<text class=\"wlIcon-fanhui2 margin-left-xs\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 标签 -->\r\n\t\t\t<view class=\"label margin-bottom padding-bottom solid-bottom\">\r\n\t\t\t\t<view @tap=\"onTag('good')\" class=\"cu-tag round\">好评 ({{ goodsData.praise }})</view>\r\n\t\t\t\t<view @tap=\"onTag('pertinent')\" class=\"cu-tag round\">中评 ({{ goodsData.moderate }})</view>\r\n\t\t\t\t<view @tap=\"onTag('poor')\" class=\"cu-tag round\">差评 ({{ goodsData.negative }})</view>\r\n\t\t\t\t<view @tap=\"onTag('figure')\" class=\"cu-tag round\">有图 ({{ goodsData.comment_list.figure }})</view>\r\n\t\t\t\t<view @tap=\"onTag(index)\" v-for=\"(item, index) in goodsData.comment_list.tag\" :key=\"index\" class=\"cu-tag round\">{{ index }} ({{ item }})</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 获取一个评论 -->\r\n\t\t\t<view class=\"user\" v-for=\"(item, index) in goodsData.comment_list.data\" :key=\"item.id\"  @tap=\"onTag('')\">\r\n\t\t\t\t<view class=\"userinfo\">\r\n\t\t\t\t\t<view class=\"avatar\">\r\n\t\t\t\t\t\t<view class=\"cu-avatar sm round margin-right-xs\" :style=\"{ backgroundImage: 'url(' + $flbooth.oss(item.user.avatar, 26, 26, 2, 'avatar') + ')' }\"></view>\r\n\t\t\t\t\t\t<view class=\"text-sm wanl-gray\">{{ item.user.nickname }}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<wanl-rate :current=\"item.score\" :disabled=\"true\"></wanl-rate>\r\n\t\t\t\t</view>\r\n\t\t\t\r\n\t\t\t\t<view class=\"details text-min\">\r\n\t\t\t\t\t<view class=\"margin-bottom-sm\">{{ item.content }}</view>\r\n\t\t\t\t\t<view class=\"wanl-gray\">规格：{{ item.suk }}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"grid flex-sub grid-square\" :class=\"[item.images.length > 3 ? 'col-3' : 'col-' + item.images.length]\" v-if=\"item.images.length != 0\">\r\n\t\t\t\t\t<view\r\n\t\t\t\t\t\tclass=\"bg-img\"\r\n\t\t\t\t\t\tv-for=\"(image, index) in item.images\"\r\n\t\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\t\tv-if=\"index <= 3\"\r\n\t\t\t\t\t\t:style=\"{ backgroundImage: 'url(' + $flbooth.oss(image, 88, 88) + ')' }\"\r\n\t\t\t\t\t></view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 查看更多 -->\r\n\t\t\t<view class=\"more\" @tap=\"onTag('')\"><text class=\"wanl-gray text-sm\">查看全部</text><text class=\"wlIcon-fanhui4 margin-left-xs\"></text></view>\r\n\t\t</view>\r\n\t\t<!-- 店铺 -->\r\n\t\t<view class=\"shop padding-bj solid-bottom bg-white\">\r\n\t\t\t<view class=\"shopinfo margin-bottom\">\r\n\t\t\t\t<view class=\"cu-avatar lg radius-bock\" :style=\"{ backgroundImage: 'url(' + $flbooth.oss(goodsData.shop.avatar, 52, 52, 2, 'avatar') + ')' }\"></view>\r\n\t\t\t\t<view class=\"shopname\">\r\n\t\t\t\t\t<view class=\"text-df text-cut\" style=\"width: 300rpx;\">{{ goodsData.shop.shopname }}</view>\r\n\t\t\t\t\t<view class=\"wanl-gray text-min\">{{ $flbooth.toFormat(goodsData.shop.find_user.fans, 'thousand') }} 人关注店铺</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"bnt\">\r\n\t\t\t\t\t<!-- 1.0.9升级 -->\r\n\t\t\t\t\t<button class=\"cu-btn round line-orange margin-right-sm\" @tap=\"onShopGoods(goodsData.shop_id)\">全部宝贝</button>\r\n\t\t\t\t\t<button class=\"cu-btn round bg-gradual-orange\" @tap=\"onShop(goodsData.shop_id)\">进店逛逛</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"quality wanl-gray text-min\">\r\n\t\t\t\t<view>\r\n\t\t\t\t\t宝贝描述\r\n\t\t\t\t\t<text class=\"\">{{ goodsData.shop.score_describe }}</text>\r\n\t\t\t\t\t<view v-if=\"goodsData.shop.score_describe < 4.7\" class=\"cu-tag round di\">低</view>\r\n\t\t\t\t\t<view v-else class=\"cu-tag round gao\">高</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view>\r\n\t\t\t\t\t卖家服务\r\n\t\t\t\t\t<text class=\"wanl-orange\">{{ goodsData.shop.score_service }}</text>\r\n\t\t\t\t\t<view v-if=\"goodsData.shop.score_service < 4.7\" class=\"cu-tag round di\">低</view>\r\n\t\t\t\t\t<view v-else class=\"cu-tag round gao\">高</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view>\r\n\t\t\t\t\t物流服务\r\n\t\t\t\t\t<text class=\"wanl-orange\">{{ goodsData.shop.score_logistics }}</text>\r\n\t\t\t\t\t<view v-if=\"goodsData.shop.score_logistics < 4.7\" class=\"cu-tag round di\">低</view>\r\n\t\t\t\t\t<view v-else class=\"cu-tag round gao\">高</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 店铺推荐 -->\r\n\t\t<view class=\"shop-recom padding-bj bg-white\">\r\n\t\t\t<view class=\"head\">\r\n\t\t\t\t<view class=\"\">店铺推荐</view>\r\n\t\t\t\t<!-- 1.0.9升级 -->\r\n\t\t\t\t<view class=\"text-sm wanl-orange\" @tap=\"onShop(goodsData.shop_id)\">\r\n\t\t\t\t\t查看全部\r\n\t\t\t\t\t<text class=\"wlIcon-fanhui2 margin-left-xs\"></text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"recommend margin-bottom-xs\">\r\n\t\t\t\t<view class=\"item\" v-for=\"(item, index) in goodsData.shop_recommend\" :key=\"item.id\" @tap=\"onGoods(item.id)\">\r\n\t\t\t\t\t<image :src=\"$flbooth.oss(item.image, 125, 120)\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t<view class=\"text-sm margin-tb-xs text-cut\">{{ item.title }}</view>\r\n\t\t\t\t\t<view class=\"text-price wanl-orange text-df\">{{ item.price }}</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 分隔符 -->\r\n\t\t<wanl-divider width=\"60%\">产品详情</wanl-divider>\r\n\t\t<!-- 产品详情 -->\r\n\t\t<view class=\"wanl-goods-content bg-white\" id=\"details\"><rich-text :nodes=\"goodsData.content\"></rich-text></view>\r\n\t\t<!-- 分隔符 -->\r\n\t\t<wanl-divider width=\"60%\">推荐商品</wanl-divider>\r\n\t\t<!-- 猜你喜欢 -->\r\n\t\t<view id=\"recommend\">\r\n\t\t\t<wanl-product :dataList=\"likeData\"/>\r\n\t\t</view>\r\n\t\t<uni-load-more :status=\"status\" :content-text=\"contentText\" />\r\n\t\t<view class=\"safeAreaBottom\"></view>\r\n\t\t<view class=\"WANL-MODAL text-sm\" @touchmove.stop.prevent=\"moveHandle\">\r\n\t\t\t<!-- 顶部 -->\r\n\t\t\t<view class=\"cu-modal top-modal\" :class=\"modalName == 'menu' ? 'show' : ''\" @tap=\"hideModal\">\r\n\t\t\t\t<view class=\"wanl-modal-menu cu-dialog\" @tap.stop=\"\"><wanl-direct @change=\"hideModal\" /></view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 促销 -->\r\n\t\t\t<view class=\"cu-modal bottom-modal\" :class=\"modalName == 'promotion' ? 'show' : ''\" @tap=\"hideModal\">\r\n\t\t\t\t<view class=\"cu-dialog\" @tap.stop=\"\">\r\n\t\t\t\t\t<view class=\"wanl-modal\">\r\n\t\t\t\t\t\t<view class=\"head padding-bj\">\r\n\t\t\t\t\t\t\t<view class=\"content\"><view class=\"text-lg\">促销</view></view>\r\n\t\t\t\t\t\t\t<view class=\"close wlIcon-31guanbi\" @tap=\"hideModal\"></view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 优惠券 -->\r\n\t\t\t<view class=\"cu-modal bottom-modal\" :class=\"modalName == 'coupon' ? 'show' : ''\" @tap=\"hideModal\">\r\n\t\t\t\t<view class=\"cu-dialog bg-bgcolor\" @tap.stop=\"\">\r\n\t\t\t\t\t<view class=\"wanl-modal\">\r\n\t\t\t\t\t\t<view class=\"head padding-bj\">\r\n\t\t\t\t\t\t\t<view class=\"content\"><view class=\"text-lg\">优惠券</view></view>\r\n\t\t\t\t\t\t\t<view class=\"close wlIcon-31guanbi\" @tap=\"hideModal\"></view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<scroll-view class=\"wanl-coupon scroll-y\" scroll-y=\"true\">\r\n\t\t\t\t\t\t\t<view v-for=\"(coupon, index) in goodsData.coupon\" :key=\"index\" :class=\"coupon.type\" class=\"item margin-bottom-bj radius-bock\">\r\n\t\t\t\t\t\t\t\t<image :src=\"$flbooth.appstc('/coupon/bg_coupon_3x.png')\" class=\"coupon-bg\"></image>\r\n\t\t\t\t\t\t\t\t<image :src=\"$flbooth.appstc('/coupon/img_couponcentre_received_3x.png')\" class=\"coupon-sign\" v-if=\"coupon.state\"></image>\r\n\t\t\t\t\t\t\t\t<view class=\"item-left\">\r\n\t\t\t\t\t\t\t\t\t<block v-if=\"coupon.type == 'reduction' || (coupon.type == 'vip' && coupon.usertype == 'reduction')\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"colour\">\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"text-price\"></text>\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"prices\">{{Number(coupon.price)}}</text>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"cu-tag wanl-gray-dark radius text-sm bg-white\">\r\n\t\t\t\t\t\t\t\t\t\t\t满{{Number(coupon.limit)}}减{{Number(coupon.price)}}\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t\t\t<block v-if=\"coupon.type == 'discount' || (coupon.type == 'vip' && coupon.usertype == 'discount')\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"colour\">\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"prices\">{{Number(coupon.discount)}}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"discount\">折</text>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"cu-tag wanl-gray-dark radius text-sm bg-white\">\r\n\t\t\t\t\t\t\t\t\t\t\t满{{Number(coupon.limit)}}打{{Number(coupon.discount)}}折\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t\t\t<block v-if=\"coupon.type == 'shipping'\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"colour\">\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"prices\">包邮</text>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"cu-tag wanl-gray-dark radius text-sm bg-white\">\r\n\t\t\t\t\t\t\t\t\t\t\t满{{Number(coupon.limit)}}元包邮\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"item-right padding-bj\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"title\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"cu-tag sm radius margin-right-xs tagstyle\">\r\n\t\t\t\t\t\t\t\t\t\t\t{{coupon.type_text}}\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"text-cut wanl-gray text-min\">{{coupon.name}}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"content text-min\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"wanl-gray\">\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<view v-if=\"coupon.grant != '-1'\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"wlIcon-dot\"></text>目前仅剩余 {{coupon.surplus}} 张\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t<view v-if=\"coupon.drawlimit != 0\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"wlIcon-dot\"></text>每人仅限领取 {{coupon.drawlimit}} 张\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<block v-if=\"coupon.pretype == 'fixed'\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"wlIcon-dot\"></text>生效 {{coupon.startdate}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"wlIcon-dot\"></text>结束 {{coupon.enddate}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t\t\t\t\t<block v-if=\"coupon.pretype == 'appoint'\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view v-if=\"coupon.validity == 0\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"wlIcon-dot\"></text>未使用前 永久 有效\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view v-else>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"wlIcon-dot\"></text>领取后 {{coupon.validity}} 天有效\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"cu-btn sm round\" @tap=\"onReceive(index)\"  v-if=\"!coupon.state\">\r\n\t\t\t\t\t\t\t\t\t\t\t<text>立即领取</text>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</scroll-view>\r\n\t\t\t\t\t\t<view class=\"foot padding-lr-bj\"><button class=\"cu-btn bg-gradual-orange round text-bold complete\" @tap=\"hideModal\">完成</button></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 产品参数 -->\r\n\t\t\t<view class=\"cu-modal bottom-modal\" :class=\"modalName == 'attribute' ? 'show' : ''\" @tap=\"hideModal\">\r\n\t\t\t\t<view class=\"cu-dialog\" @tap.stop=\"\">\r\n\t\t\t\t\t<view class=\"wanl-modal\">\r\n\t\t\t\t\t\t<view class=\"head padding-bj\">\r\n\t\t\t\t\t\t\t<view class=\"content\"><view class=\"text-lg\">产品参数</view></view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<scroll-view class=\"scroll-y\" scroll-y=\"true\">\r\n\t\t\t\t\t\t\t<view class=\"table solid-bottom\">\r\n\t\t\t\t\t\t\t\t<view class=\"name wanl-gray\">品牌</view>\r\n\t\t\t\t\t\t\t\t<view class=\"value\">{{ goodsData.brand.name }}</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"table solid-bottom\" v-for=\"(item, index) in goodsData.category_attribute\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t<view class=\"name wanl-gray\">{{ index }}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"value\">{{ item }}</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</scroll-view>\r\n\t\t\t\t\t\t<view class=\"foot padding-lr-bj\"><button class=\"cu-btn bg-gradual-orange round text-bold complete\" @tap=\"hideModal\">完成</button></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 分享 -->\r\n\t\t\t<view class=\"cu-modal bottom-modal\" :class=\"modalName == 'share' ? 'show' : ''\" @tap=\"hideModal\">\r\n\t\t\t\t<view class=\"cu-dialog\" @tap.stop=\"\">\r\n\t\t\t\t\t<wanl-share \r\n\t\t\t\t\t\t:scrollAnimation=\"scrollAnimation\" \r\n\t\t\t\t\t\t:shareTitle=\"goodsData.title\" \r\n\t\t\t\t\t\t:shareText=\"goodsData.description\" \r\n\t\t\t\t\t\t:image=\"$flbooth.oss(goodsData.image,50, 50)\"\r\n\t\t\t\t\t\t:href=\"common.appConfig.domain + '/pages/product/goods?id='+ goodsData.id +'&QRtype=goods'\"\r\n\t\t\t\t\tisReport @change=\"wanlShare\"/>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 服务 -->\r\n\t\t\t<view class=\"cu-modal bottom-modal\" :class=\"modalName == 'service' ? 'show' : ''\" @tap=\"hideModal\">\r\n\t\t\t\t<view class=\"cu-dialog\" @tap.stop=\"\">\r\n\t\t\t\t\t<view class=\"wanl-modal\">\r\n\t\t\t\t\t\t<view class=\"head padding-bj\">\r\n\t\t\t\t\t\t\t<view class=\"content\"><view class=\"text-lg\">基础服务保障</view></view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"listbox padding-bj\">\r\n\t\t\t\t\t\t\t<view v-for=\"(item, index) in goodsData.shop.service_ids\" :key=\"item.id\">\r\n\t\t\t\t\t\t\t\t<view class=\"name\">\r\n\t\t\t\t\t\t\t\t\t{{ item.name }}\r\n\t\t\t\t\t\t\t\t\t<text class=\"wlIcon-fuwuxing\"></text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"description wanl-gray text-min\">{{ item.description }}</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"foot padding-lr-bj\"><button class=\"cu-btn bg-gradual-orange round text-bold complete\" @tap=\"hideModal\">完成</button></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 规格 -->\r\n\t\t\t<view class=\"cu-modal bottom-modal\" :class=\"modalName == 'option' ? 'show' : ''\" @tap=\"hideModal\">\r\n\t\t\t\t<view class=\"cu-dialog\" @tap.stop=\"\">\r\n\t\t\t\t\t<view class=\"option wanl-modal\">\r\n\t\t\t\t\t\t<view class=\"head text-left padding-bj solid-bottom\">\r\n\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\tclass=\"cu-avatar radius-bock margin-right\"\r\n\t\t\t\t\t\t\t\t:style=\"{ backgroundImage: 'url(' + $flbooth.oss(selectshop.thumbnail || goodsData.image, 100, 100) + ')' }\"\r\n\t\t\t\t\t\t\t></view>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t<view class=\"text-price wanl-orange text-xl margin-bottom-xs\">{{ selectshop.price || goodsData.interval_price }}</view>\r\n\t\t\t\t\t\t\t\t<view v-if=\"selectArr.join('')\" class=\"wanl-gray margin-bottom-xs\">\r\n\t\t\t\t\t\t\t\t\t库存 <text class=\"margin-lr-xs\">{{ selectshop.stock || 0 }}</text> 件\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"text-sm\">\r\n\t\t\t\t\t\t\t\t\t<view v-if=\"selectArr.join('')\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"margin-right-bj\">已选择</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"margin-right-xs\" v-for=\"(name, key) in selectArr\">{{ $base64.decode(name) }}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view v-else>\r\n\t\t\t\t\t\t\t\t\t\t请选择：\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"wanl-gray-light\" v-for=\"(item, index) in goodsData.spu\" :key=\"item.id\">\r\n\t\t\t\t\t\t\t\t\t\t\t<block v-if=\"index != 0\">-</block>\r\n\t\t\t\t\t\t\t\t\t\t\t{{ $base64.decode(item.name) }}\r\n\t\t\t\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<view class=\"close wlIcon-31guanbi\" @tap=\"hideModal\"></view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<!-- 1.0.8升级 -->\r\n\t\t\t\t\t\t<scroll-view scroll-y=\"true\" :style=\"{maxHeight: wanlsys.screenHeight / 2 + 'px'}\">\r\n\t\t\t\t\t\t\t<view class=\"opt text-left padding-bj solid-bottom\" v-for=\"(value, spukey) in goodsData.spu\" :key=\"value.id\">\r\n\t\t\t\t\t\t\t\t<view class=\"text-df\">{{ value.name }}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"tag\">\r\n\t\t\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\t\t\tclass=\"cu-tag text-sm\"\r\n\t\t\t\t\t\t\t\t\t\tv-for=\"(item, index) in value.item\"\r\n\t\t\t\t\t\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\t\t\t\t\t\t:class=\"[item.ishow ? '' : 'noactive', subIndex[spukey] == index ? 'active' : '']\"\r\n\t\t\t\t\t\t\t\t\t\t@tap=\"skuClick(item, spukey, $event, index)\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{{ $base64.decode(item.name) }}\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"number padding-bj\">\r\n\t\t\t\t\t\t\t\t<view class=\"text-df\">购买数量</view>\r\n\t\t\t\t\t\t\t\t<uni-number-box :min=\"1\" :max=\"selectshop.stock\" :value=\"selectNum\" :disabled=\"canCount\" @change=\"changeNum\"></uni-number-box>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</scroll-view>\r\n\r\n\t\t\t\t\t\t<view class=\"foot padding-lr-bj\">\r\n\t\t\t\t\t\t\t<button v-if=\"isChoice\" class=\"cu-btn bg-gradual-orange round text-bold complete\" @tap=\"completeSelection\">完成</button>\r\n\t\t\t\t\t\t\t<block v-else>\r\n\t\t\t\t\t\t\t\t<button class=\"cu-btn bg-gradual-yellow round-left text-bold\" @tap=\"SubmitData('addToCart', 1)\">加入购物车</button>\r\n\t\t\t\t\t\t\t\t<button class=\"cu-btn bg-gradual-orange round-right text-bold\" @tap=\"SubmitData('placeOrder', 1)\">立即订购</button>\r\n\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 底部 -->\r\n\t\t<view class=\"wanlian cu-bar tabbar shop solid-top foot\">\r\n\t\t\t<view class=\"action\" @tap=\"onShop(goodsData.shop_id)\">\r\n\t\t\t\t<view class=\"wlIcon-dianpu1 wanl-orange\"></view>\r\n\t\t\t\t店铺\r\n\t\t\t</view>\r\n\t\t\t<view class=\"action\" @tap=\"toCart\">\r\n\t\t\t\t<view class=\"wlIcon-gouwuche\">\r\n\t\t\t\t\t<view class=\"cu-tag badge\" v-if=\"cart.cartnum > 0\">{{ cart.cartnum }}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t购物车\r\n\t\t\t</view>\r\n\t\t\t<!-- 1.0.2升级 -->\r\n\t\t\t<view class=\"action\" @tap=\"toChat(goodsData.shop_id, { id: goodsData.id, title: goodsData.title, image: goodsData.image, price: goodsData.price })\">\r\n\t\t\t\t<view class=\"wlIcon-kefu\"><view class=\"cu-tag badge\"></view></view>\r\n\t\t\t\t客服\r\n\t\t\t</view>\r\n\t\t\t<view class=\"btn-group\">\r\n\t\t\t\t<button class=\"cu-btn bg-gradual-yellow round-left\" @tap=\"SubmitData('addToCart')\">加入购物车</button>\r\n\t\t\t\t<button class=\"cu-btn bg-gradual-orange round-right\" @tap=\"SubmitData('placeOrder')\">立即购买</button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex';\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tTabCur: 0,\r\n\t\t\twanlsys: {},\r\n\t\t\tmodalName: null, // 弹出层\r\n\t\t\tdurect: 0, // 角标\r\n\t\t\theaderOpacity: 0, //不透明度\r\n\t\t\tcurrentSwiper: 0, // 轮播图右下角数字\r\n\t\t\tanchorlist: [{ name: '主图', top: 0 }, { name: '评价', top: 0 }, { name: '详情', top: 0 }, { name: '推荐', top: 0 }], //导航条锚点\r\n\t\t\tselectAnchor: 0,\r\n\t\t\t//产品数据\r\n\t\t\tgoodsData: {\r\n\t\t\t\tid: 0,\r\n\t\t\t\tcategory_id: 0,\r\n\t\t\t\tshop_id: 0,\r\n\t\t\t\tbrand_id: 0,\r\n\t\t\t\tfreight_id: 0,\r\n\t\t\t\ttitle: '',\r\n\t\t\t\timage: '',\r\n\t\t\t\timages: '',\r\n\t\t\t\tflag: '',\r\n\t\t\t\tcontent: '',\r\n\t\t\t\tcategory_attribute: [],\r\n\t\t\t\tactivity_type: 'goods',\r\n\t\t\t\tprice: null,\r\n\t\t\t\tinterval_price: null,\r\n\t\t\t\tmarket_price: null,\r\n\t\t\t\tsales: 0,\r\n\t\t\t\tbrand: {},\r\n\t\t\t\tfreight: {\r\n\t\t\t\t\tname: '',\r\n\t\t\t\t\tisdelivery: 1\r\n\t\t\t\t},\r\n\t\t\t\tpayment: 0,\r\n\t\t\t\tcomment: 0,\r\n\t\t\t\tpraise: 0,\r\n\t\t\t\tmoderate: 0,\r\n\t\t\t\tnegative: 0,\r\n\t\t\t\tlike: 0,\r\n\t\t\t\tviews: 0,\r\n\t\t\t\tstatus: '',\r\n\t\t\t\tcategory: {},\r\n\t\t\t\tfollow: true,\r\n\t\t\t\tsku: [],\r\n\t\t\t\tspu: [],\r\n\t\t\t\tpromotion: [],\r\n\t\t\t\tcoupon: [],\r\n\t\t\t\tcomment_list: {\r\n\t\t\t\t\tdata: [],\r\n\t\t\t\t\tfigure: 0,\r\n\t\t\t\t\ttag: []\r\n\t\t\t\t},\r\n\t\t\t\tshop: {\r\n\t\t\t\t\tfind_user: {\r\n\t\t\t\t\t\tfans: 0\r\n\t\t\t\t\t},\r\n\t\t\t\t\tcity: ''\r\n\t\t\t\t},\r\n\t\t\t\tshop_recommend: {}\r\n\t\t\t},\r\n\t\t\t// 猜你喜欢\r\n\t\t\treload: true,\r\n\t\t\tlikeData: [],\r\n\t\t\tcurrent_page: 1, //当前页码\r\n\t\t\tlast_page: 1, //总页码\r\n\t\t\tstatus: 'loading',\r\n\t\t\tcontentText: {\r\n\t\t\t\tcontentdown: ' ',\r\n\t\t\t\tcontentrefresh: '正在加载...',\r\n\t\t\t\tcontentnomore: '没有更多数据了'\r\n\t\t\t},\r\n\t\t\t// 商品规格组合\r\n\t\t\tshopItemInfo: {}, //存放要和选中的值进行匹配的数据\r\n\t\t\tselectArr: [], //存放被选中的值\r\n\t\t\tsubIndex: [], //是否选中 因为不确定是多规格还是但规格，所以这里定义数组来判断\r\n\t\t\tselectshop: {}, //存放最后选中的商品\r\n\t\t\tselectNum: 1, //选中数量\r\n\t\t\tisChoice: '', // 是否从选择进入\r\n\t\t\tscrollAnimation: 100 //分享滚动\r\n\t\t};\r\n\t},\r\n\tonLoad(option) {\r\n\t\tthis.wanlsys = this.$flbooth.wanlsys();\r\n\t\tthis.loadData(option);\r\n\t\tthis.loadlikeData();\r\n\t\t// #ifdef MP-WEIXIN\r\n\t\twx.showShareMenu({\r\n\t\t\twithShareTicket: true,\r\n\t\t\tmenus: ['shareAppMessage', 'shareTimeline']\r\n\t\t});\r\n\t\t// #endif\r\n\t\tthis.durect =\r\n\t\t\tthis.$store.state.statistics.notice.notice +\r\n\t\t\tthis.$store.state.statistics.notice.order +\r\n\t\t\tthis.$store.state.statistics.notice.chat +\r\n\t\t\tthis.$store.state.statistics.order.pay +\r\n\t\t\tthis.$store.state.statistics.order.delive +\r\n\t\t\tthis.$store.state.statistics.order.receiving +\r\n\t\t\tthis.$store.state.statistics.order.evaluate;\r\n\t},\r\n\tonPageScroll(e) {\r\n\t\t//导航栏渐变\r\n\t\tlet tmpY = 150;\r\n\t\te.scrollTop = e.scrollTop > tmpY ? 150 : e.scrollTop; //如果当前高度大于250则250否则当前高度\r\n\t\tthis.headerOpacity = e.scrollTop * (1 / tmpY); //$headerOpacity 赋值当前高度x（1÷250）\r\n\t},\r\n\tonReachBottom() {\r\n\t\t//判断是否最后一页\r\n\t\tif (this.current_page >= this.last_page) {\r\n\t\t\tthis.status = 'noMore';\r\n\t\t} else {\r\n\t\t\tthis.reload = false;\r\n\t\t\tthis.current_page = this.current_page + 1; //页码+1\r\n\t\t\tthis.status = 'loading';\r\n\t\t\tthis.loadlikeData();\r\n\t\t}\r\n\t},\r\n\twatch: {\r\n\t    selectshop(n, o) {\r\n\t\t\tif(n.price != o.price){\r\n\t\t\t\t// 更新一次优惠券\r\n\t\t\t\tthis.queryCoupon(n.price);\r\n\t\t\t}\r\n\t    }\r\n\t},\r\n\tcomputed: {\r\n\t\tcanCount() {\r\n\t\t\treturn this.subIndex.some(item => item === -1);\r\n\t\t},\r\n\t\t...mapState(['cart', 'common'])\r\n\t},\r\n\tmethods: {\r\n\t\tasync loadData(option) {\r\n\t\t\t//加载商品\r\n\t\t\tthis.$api.get({\r\n\t\t\t\turl: '/flbooth/product/goods',\r\n\t\t\t\tdata: option,\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t//详情正则\r\n\t\t\t\t\tres.content = res.content.replace(/<img [^>]*src=['\"]([^'\"]+)[^>]*>/gi, (match, capture) => {\r\n\t\t\t\t\t\tvar img = `<img style=\"display: block; max-width: 100%;\" src=\"${this.$flbooth.oss(capture, 500, 0)}\">`;\r\n\t\t\t\t\t\treturn img;\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// 价格区间\r\n\t\t\t\t\tif (res.sku.length == 0) {\r\n\t\t\t\t\t\tres.interval_price = res.price;\r\n\t\t\t\t\t\tres.market_price = res.price;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tlet price = [],\r\n\t\t\t\t\t\t\tmarket_price = [];\r\n\t\t\t\t\t\tfor (let value of res.sku) {\r\n\t\t\t\t\t\t\tprice.push(value.price);\r\n\t\t\t\t\t\t\tmarket_price.push(value.market_price);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlet minPrice = Math.min.apply(null, price),\r\n\t\t\t\t\t\t\tmaxPrice = Math.max.apply(null, price),\r\n\t\t\t\t\t\t\tmaxMarketPrice = Math.max.apply(null, market_price);\r\n\t\t\t\t\t\tres.interval_price = minPrice == maxPrice ? Number(minPrice).toFixed(2) : ( minPrice + '-' + Number(maxPrice).toFixed(2) ); //区间价格\r\n\t\t\t\t\t\tres.market_price = Number(maxMarketPrice).toFixed(2); //最大市场价\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.goodsData = res;\r\n\t\t\t\t\t// 商品规格组合\r\n\t\t\t\t\tthis.goodsData.spu.map(item => {\r\n\t\t\t\t\t\t// 1.1.3升级\r\n\t\t\t\t\t\titem.item.map((name, key, arr) =>{\r\n\t\t\t\t\t\t\tarr[key].name = this.$base64.encode(arr[key].name)\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.selectArr.push('');\r\n\t\t\t\t\t\tthis.subIndex.push(-1);\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// 1.1.3升级\r\n\t\t\t\t\tthis.goodsData.sku.map(item => {\r\n\t\t\t\t\t\titem.difference.map((name, index, arr) =>{\r\n\t\t\t\t\t\t\tarr[index] = this.$base64.encode(name)\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.checkItem(); //计算sku里面规格形成路径\r\n\t\t\t\t\tthis.checkInpath(-1); //传-1是为了不跳过循环\r\n\t\t\t\t\t// 计算锚点高度\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis.calcAnchor();\r\n\t\t\t\t\t}, 1000);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 滚动底部加载猜你喜欢\r\n\t\tasync loadlikeData() {\r\n\t\t\tthis.$api.get({\r\n\t\t\t\turl: '/flbooth/product/likes?pages=goods',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tpage: this.current_page\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tthis.likeData = this.reload ? res.data : this.likeData.concat(res.data); //评论数据 追加\r\n\t\t\t\t\tthis.current_page = res.current_page; //当前页码\r\n\t\t\t\t\tthis.last_page = res.last_page; //总页码\r\n\t\t\t\t\tthis.status = 'more';\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 查询优惠券，减缓服务器压力，单独查询\r\n\t\tasync queryCoupon(price) {\r\n\t\t\tthis.$api.post({\r\n\t\t\t\turl: '/flbooth/coupon/query',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tshop_id: this.goodsData.shop_id,\r\n\t\t\t\t\tgoods_id: this.goodsData.id,\r\n\t\t\t\t\tshop_category_id: this.goodsData.shop_category_id,\r\n\t\t\t\t\tprice: price\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tthis.goodsData.coupon = res;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t// 领取优惠券\r\n\t\tasync onReceive(index) {\r\n\t\t\tlet coupon = this.goodsData.coupon[index];\r\n\t\t\tthis.$api.post({\r\n\t\t\t\turl: '/flbooth/coupon/receive',\r\n\t\t\t\tloadingTip: '领取中',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tid: coupon.id\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tcoupon.id = res.id;\r\n\t\t\t\t\tcoupon.state = true;\r\n\t\t\t\t\tthis.$flbooth.msg(res.msg);\r\n\t\t\t\t\t// 更新状态管理器\r\n\t\t\t\t\tthis.$store.commit('statistics/dynamic', {\r\n\t\t\t\t\t\tcoupon: this.$store.state.statistics.dynamic.coupon + 1\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tasync loadStock(sku_id){\r\n\t\t\tthis.$api.get({\r\n\t\t\t\turl: '/flbooth/product/stock',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tsku_id: sku_id\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tthis.selectshop.stock = res;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t// 商品规格组合 选择\r\n\t\tskuClick(value, spukey, event, index) {\r\n\t\t\tif (value.ishow) {\r\n\t\t\t\tif (this.selectArr[spukey] != value.name) {\r\n\t\t\t\t\tthis.$set(this.selectArr, spukey, value.name);\r\n\t\t\t\t\tthis.$set(this.subIndex, spukey, index);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$set(this.selectArr, spukey, '');\r\n\t\t\t\t\tthis.$set(this.subIndex, spukey, -1);\r\n\t\t\t\t}\r\n\t\t\t\tthis.checkInpath(spukey);\r\n\t\t\t\t//如果全部选完\r\n\t\t\t\tif (this.selectArr.every(item => item != '')) {\r\n\t\t\t\t\tthis.selectshop = this.shopItemInfo[this.selectArr];\r\n\t\t\t\t\t// 1.1.3升级\r\n\t\t\t\t\tthis.selectshop.difference.map((name, index, arr)=> {\r\n\t\t\t\t\t\tarr[index] = this.$base64.decode(name)\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.loadStock(this.selectshop.id);\r\n\t\t\t\t\tthis.selectNum = 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t//循环所有属性判断哪些属性可选\r\n\t\tcheckInpath(clickIndex) {\r\n\t\t\t\r\n\t\t\t//当前选中的兄弟节点和已选中属性不需要循环\r\n\t\t\tfor (let i = 0, len = this.goodsData.spu.length; i < len; i++) {\r\n\t\t\t\tif (i == clickIndex) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tlet len2 = this.goodsData.spu[i].item.length;\r\n\t\t\t\tfor (let j = 0; j < len2; j++) {\r\n\t\t\t\t\tif (this.subIndex[i] != -1 && j == this.subIndex[i]) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet choosed_copy = [...this.selectArr];\r\n\t\t\t\t\tthis.$set(choosed_copy, i, this.goodsData.spu[i].item[j].name);\r\n\t\t\t\t\tlet choosed_copy2 = choosed_copy.filter(item => item !== '' && typeof item !== 'undefined');\r\n\t\t\t\t\tif (this.shopItemInfo.hasOwnProperty(choosed_copy2)) {\r\n\t\t\t\t\t\tthis.$set(this.goodsData.spu[i].item[j], 'ishow', true);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$set(this.goodsData.spu[i].item[j], 'ishow', false);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// console.log(this.goodsData.spu)\r\n\t\t},\r\n\t\t//计算有多小种可选路径\r\n\t\tcheckItem() {\r\n\t\t\tlet result = this.goodsData.sku.reduce(\r\n\t\t\t\t(arrs, items) => {\r\n\t\t\t\t\treturn arrs.concat(\r\n\t\t\t\t\t\titems.difference.reduce(\r\n\t\t\t\t\t\t\t(arr, item) => {\r\n\t\t\t\t\t\t\t\treturn arr.concat(\r\n\t\t\t\t\t\t\t\t\tarr.map(item2 => {\r\n\t\t\t\t\t\t\t\t\t\t//利用对象属性的唯一性实现二维数组去重\r\n\t\t\t\t\t\t\t\t\t\tif (!this.shopItemInfo.hasOwnProperty([...item2, item])) {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.shopItemInfo[[...item2, item]] = items;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn [...item2, item];\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t[[]]\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t);\r\n\t\t\t\t},\r\n\t\t\t\t[[]]\r\n\t\t\t);\r\n\t\t},\r\n\t\t//商品规格修改数量\r\n\t\tchangeNum(val) {\r\n\t\t\tif(this.selectshop.stock){\r\n\t\t\t\tlet num = parseInt(val);\r\n\t\t\t\tif(num > this.selectshop.stock){\r\n\t\t\t\t\tthis.$flbooth.msg(`数量不能超过库存 ${this.selectshop.stock} 件`);\r\n\t\t\t\t\tthis.selectNum = parseInt(this.selectshop.stock);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.selectNum = parseInt(val);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t//轮播图指示器\r\n\t\tswiperChange(e) {\r\n\t\t\tthis.currentSwiper = e.detail.current;\r\n\t\t},\r\n\t\t// 弹出层\r\n\t\tshowModal(name) {\r\n\t\t\tthis.isChoice = '';\r\n\t\t\t// 滚动下分享\r\n\t\t\tif (name == 'share' && this.modalName != 'share') {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.scrollAnimation = 0;\r\n\t\t\t\t}, 300);\r\n\t\t\t}\r\n\t\t\tthis.modalName = name;\r\n\t\t},\r\n\t\t// 关闭弹出层\r\n\t\thideModal(name) {\r\n\t\t\tif (name) {\r\n\t\t\t\tthis.showModal(name);\r\n\t\t\t} else {\r\n\t\t\t\tthis.modalName = null;\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 分享回调\r\n\t\twanlShare(e){\r\n\t\t\tif(e){\r\n\t\t\t\tthis.$flbooth.auth(`/pages/user/complaint/complaint?id=${this.goodsData.id}&type=1`);\r\n\t\t\t}else{\r\n\t\t\t\tthis.modalName = null;\r\n\t\t\t}\r\n\t\t},\r\n\t\t//禁止父元素滑动\r\n\t\tmoveHandle() {},\r\n\t\t// 关注 & 取消\r\n\t\tfollow() {\r\n\t\t\tthis.goodsData.follow = !this.goodsData.follow;\r\n\t\t\t// 全局控制中心\r\n\t\t\tif (this.goodsData.follow) {\r\n\t\t\t\tthis.$store.commit('statistics/dynamic', {\r\n\t\t\t\t\tcollection: this.$store.state.statistics.dynamic.collection + 1\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.$store.commit('statistics/dynamic', {\r\n\t\t\t\t\tcollection: this.$store.state.statistics.dynamic.collection - 1\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tthis.$api.post({\r\n\t\t\t\turl: '/flbooth/product/follow',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tid: this.goodsData.id\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: res => {\r\n\t\t\t\t\tthis.goodsData.follow = res;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t//跳转锚点\r\n\t\ttoAnchor(index) {\r\n\t\t\tthis.selectAnchor = index;\r\n\t\t\tuni.pageScrollTo({\r\n\t\t\t\tscrollTop: this.anchorlist[index].top,\r\n\t\t\t\tduration: 200\r\n\t\t\t});\r\n\t\t},\r\n\t\t//计算锚点高度\r\n\t\tcalcAnchor() {\r\n\t\t\tlet query = null;\r\n\t\t\t// 支付宝小程序不能加后面的.in(this)，是它自身的限制\r\n\t\t\t// #ifndef MP-ALIPAY\r\n\t\t\tquery = uni.createSelectorQuery().in(this)\r\n\t\t\t// #endif\r\n\t\t\t// #ifdef MP-ALIPAY\r\n\t\t\tquery = uni.createSelectorQuery()\r\n\t\t\t// #endif\r\n\t\t\tquery.select('#evaluate').boundingClientRect(rec => {\r\n\t\t\t\tthis.anchorlist[1].top = rec.top - this.wanlsys.height - 45;\r\n\t\t\t}).exec();\r\n\t\t\tquery.select('#details').boundingClientRect(rec => {\r\n\t\t\t\tthis.anchorlist[2].top = rec.top - this.wanlsys.height - 45;\r\n\t\t\t}).exec();\r\n\t\t\tquery.select('#recommend').boundingClientRect(rec => {\r\n\t\t\t\tthis.anchorlist[3].top = rec.top - this.wanlsys.height - 45;\r\n\t\t\t}).exec();\r\n\t\t},\r\n\t\t// 评论页\r\n\t\tonTag(tag) {\r\n\t\t\tthis.$flbooth.to('/pages/product/comment?id=' + this.goodsData.id + '&praise=' + this.goodsData.praise + '&tag=' + tag);\r\n\t\t},\r\n\t\t// 打开购物车\r\n\t\ttoCart() {\r\n\t\t\tuni.switchTab({ url: '/pages/cart' });\r\n\t\t},\r\n\t\t// 完成选择\r\n\t\tcompleteSelection() {\r\n\t\t\tif (this.canCount) {\r\n\t\t\t\tthis.$flbooth.msg('请选择完成规格');\r\n\t\t\t} else {\r\n\t\t\t\tthis.ProcessingData();\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 提交数据\r\n\t\tSubmitData(name, type) {\r\n\t\t\t// if (!this.subIndex[0]) {\r\n\t\t\t\t// this.$flbooth.msg('客官先别急，系统还在加载');\r\n\t\t\t// } else {\r\n\t\t\t\t\r\n\t\t\t// }\r\n\t\t\tif(type == 1){\r\n\t\t\t\tif (this.canCount) {\r\n\t\t\t\t\tthis.$flbooth.msg('请选择完成规格');\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.isChoice = name;\r\n\t\t\t\t\tthis.ProcessingData();\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tthis.modalName = 'option';\r\n\t\t\t\tthis.isChoice = name;\r\n\t\t\t}\r\n\t\t},\r\n\t\tProcessingData() {\r\n\t\t\tif (this.isChoice == 'addToCart') {\r\n\t\t\t\tthis.$store.dispatch('cart/add', {\r\n\t\t\t\t\tshop_id: this.goodsData.shop_id,\r\n\t\t\t\t\tshop_name: this.goodsData.shop.shopname,\r\n\t\t\t\t\tgoods_id: this.goodsData.id,\r\n\t\t\t\t\ttitle: this.goodsData.title,\r\n\t\t\t\t\tnumber: this.selectNum,\r\n\t\t\t\t\timage: this.goodsData.image,\r\n\t\t\t\t\tsku: this.selectshop,\r\n\t\t\t\t\tsku_id: this.selectshop.id,\r\n\t\t\t\t\tsum: this.$flbooth.bcmul(this.selectshop.price, this.selectNum)\r\n\t\t\t\t});\r\n\t\t\t\tthis.$flbooth.msg('已加购物车');\r\n\t\t\t} else if (this.isChoice == 'placeOrder') {\r\n\t\t\t\tlet goodsData = [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tgoods_id: this.goodsData.id,\r\n\t\t\t\t\t\tnumber: this.selectNum,\r\n\t\t\t\t\t\tsku_id: this.selectshop.id\r\n\t\t\t\t\t}\r\n\t\t\t\t];\r\n\t\t\t\t// 提交订单\r\n\t\t\t\tif (this.$store.state.user.isLogin) {\r\n\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\turl: `/pages/user/order/addorder?order_type=groups&data=${JSON.stringify(goodsData)}`\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.$flbooth.to('/pages/user/auth/auth');\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tthis.$flbooth.msg('数据异常');\r\n\t\t\t}\r\n\t\t\tthis.hideModal();\r\n\t\t},\r\n\t\tproductSearch(text) {\r\n\t\t\tthis.$flbooth.to(`/pages/page/search?type=goods&keywords=${text}`, 'fade-in', 100);\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style>\r\ntoast,\r\nuni-toast {\r\n\tz-index: 9999;\r\n}\r\n.cu-custom .cu-bar .search-form {\r\n\tbackground-color: #fff;\r\n}\r\n\r\n.cu-custom .cu-bar {\r\n\tbackground-color: #f3f3f3;\r\n}\r\n\r\n.cu-custom .bar-bg {\r\n\tbackground-color: rgba(243, 243, 243, 0.96);\r\n}\r\n.cu-custom .cu-bar {\r\n\tz-index: 99;\r\n}\r\n/* #ifdef MP */\r\n.cu-custom .cu-bar .search-form {\r\n\tmargin: 0 0 0 25rpx;\r\n}\r\n/* #endif */\r\n\r\n.cu-custom .cu-bar .nav .cu-item{\r\n\tline-height: 70rpx;\r\n\theight: 70rpx;\r\n}\r\n.swiper-box {\r\n\tposition: relative;\r\n\twidth: 100%;\r\n\theight: 100vw;\r\n}\r\n\r\n.swiper-box swiper {\r\n\twidth: 100%;\r\n\theight: 100vw;\r\n}\r\n\r\n.swiper-box swiper swiper-item image {\r\n\twidth: 100%;\r\n\theight: 100vw;\r\n}\r\n\r\n.swiper-box .indicator {\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tpadding: 0 25upx;\r\n\theight: 40upx;\r\n\tborder-radius: 40upx;\r\n\tfont-size: 22upx;\r\n\tposition: absolute;\r\n\tbottom: 20upx;\r\n\tright: 20upx;\r\n\tcolor: #fff;\r\n\tbackground-color: rgba(0, 0, 0, 0.2);\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../hbuild/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../hbuild/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../hbuild/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../hbuild/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../hbuild/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../hbuild/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuild/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../hbuild/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../hbuild/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../hbuild/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../hbuild/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../hbuild/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../hbuild/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuild/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1657100131737\n      var cssReload = require(\"D:/soft/hbuild/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}