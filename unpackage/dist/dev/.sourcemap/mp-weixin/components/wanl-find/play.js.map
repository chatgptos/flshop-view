{"version":3,"sources":["webpack:///D:/soft/fenglei/code/flshop/components/wanl-find/play.vue?b2e6","webpack:///D:/soft/fenglei/code/flshop/components/wanl-find/play.vue?0451","webpack:///D:/soft/fenglei/code/flshop/components/wanl-find/play.vue?18f6","webpack:///D:/soft/fenglei/code/flshop/components/wanl-find/play.vue?0ab2","uni-app:///components/wanl-find/play.vue","webpack:///D:/soft/fenglei/code/flshop/components/wanl-find/play.vue?9139","webpack:///D:/soft/fenglei/code/flshop/components/wanl-find/play.vue?4b02"],"names":[],"mappings":"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tNA,yBAsNA,CAtNA,EAsNA;AACA;AACA;AACA,wBAHA,CAGA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,wBADA;AAEA,8FAFA,EAEA;AACA,yBAHA;AAIA;AACA;AACA,4BADA;AAEA,+BAFA;;AAIA,WATA;AAUA;AACA;AACA,+BADA;AAEA,+BAFA;;AAIA,WAfA;;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEADA;AAEA,wBAFA,EAEA;AACA,0BAHA;AAIA,qBAJA;;AAMA;AACA;AACA,kBA1BA;;AA4BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA1RA;AA2RA,oBA3RA,8BA2RA;AACA;AACA,KA7RA;AA8RA,aA9RA,uBA8RA;AACA;AACA,KAhSA;AAiSA;AACA,iBAlSA,2BAkSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA,OAPA,EAOA,GAPA;AAQA,KA/SA;AAgTA;AACA,aAjTA,qBAiTA,KAjTA,EAiTA;AACA;AACA,KAnTA;AAoTA,mBApTA,6BAoTA;AACA;AACA;AACA;AACA,OAFA;AAGA,KAzTA;AA0TA,oBA1TA,8BA0TA;AACA,oBADA,aACA;AACA;AACA,SAHA;AAIA,KA9TA;AA+TA;AACA,cAhUA,sBAgUA,GAhUA,EAgUA;AACA;AACA;AACA;AACA;AACA,KArUA;AAsUA,mBAtUA,2BAsUA,CAtUA,EAsUA;;;;AAIA,KA1UA;AA2UA,iBA3UA,yBA2UA,CA3UA,EA2UA;AACA;AACA;AACA,wBADA,cACA;AACA;AACA,WAHA;AAIA;AACA,OALA;AAMA,KAnVA;AAoVA;AACA,cArVA,sBAqVA,OArVA,EAqVA;AACA;AACA,KAvVA;AAwVA,QAxVA,gBAwVA,OAxVA,EAwVA;AACA;AACA;;AAEA;AACA,qBADA;AAEA;AACA;AACA,8DADA;AAEA,wBAFA;;AAIA,SAPA;AAQA;AACA;AACA,6CADA;AAEA,wBAFA;;AAIA,SAbA;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA,KApYA;AAqYA,OArYA,eAqYA,GArYA,EAqYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA,OATA,MASA;AACA;;AAEA,SAFA,MAEA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA;AACA,KA3aA,EAjIA;;AA8iBA;AACA;AACA,cAFA,sBAEA,MAFA,EAEA,MAFA,EAEA;AACA;AACA;AACA;AACA;AACA,KAPA,EA9iBA,E;;;;;;;;;;;;;AC9LA;AAAA;AAAA;AAAA;AAAo3B,CAAgB,80BAAG,EAAC,C;;;;;;;;;;;ACAx4B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/wanl-find/play.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./play.vue?vue&type=template&id=5b2e5fc0&\"\nvar renderjs\nimport script from \"./play.vue?vue&type=script&lang=js&\"\nexport * from \"./play.vue?vue&type=script&lang=js&\"\nimport style0 from \"./play.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../hbuild/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/wanl-find/play.vue\"\nexport default component.exports","export * from \"-!../../../../../hbuild/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../hbuild/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../hbuild/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../hbuild/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../hbuild/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuild/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./play.vue?vue&type=template&id=5b2e5fc0&\"","var components\ntry {\n  components = {\n    uniPopup: function() {\n      return import(\n        /* webpackChunkName: \"components/uni-popup/uni-popup\" */ \"@/components/uni-popup/uni-popup.vue\"\n      )\n    },\n    wanlComment: function() {\n      return import(\n        /* webpackChunkName: \"components/wanl-comment/wanl-comment\" */ \"@/components/wanl-comment/wanl-comment.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l1 = _vm.__map(_vm.videoList, function(item, index) {\n    var $orig = _vm.__get_orig(item)\n\n    var g0 = Math.abs(_vm.videoIndex - index)\n    var m0 = g0 <= 1 ? _vm.formatHtml(item.content) : null\n    var m1 =\n      g0 <= 1 && item.shop\n        ? _vm.oss(item.shop.avatar, 35, 35, 2, \"avatar\")\n        : null\n    var m2 =\n      g0 <= 1 && item.user\n        ? _vm.oss(item.user.avatar, 35, 35, 2, \"avatar\")\n        : null\n    var l0 =\n      g0 <= 1\n        ? _vm.__map(item.goods, function(goods, keys) {\n            var $orig = _vm.__get_orig(goods)\n\n            var m3 = _vm.oss(goods.image, 60, 60)\n            return {\n              $orig: $orig,\n              m3: m3\n            }\n          })\n        : null\n    return {\n      $orig: $orig,\n      g0: g0,\n      m0: m0,\n      m1: m1,\n      m2: m2,\n      l0: l0\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l1: l1\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../hbuild/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../hbuild/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../hbuild/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../hbuild/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuild/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./play.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../hbuild/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../hbuild/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../hbuild/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../hbuild/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuild/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./play.vue?vue&type=script&lang=js&\"","<!-- \r\n\t版本声明：\r\n\t* 由于 WanlLive、WanlChat、WanlPay 以下代码开发难度较大，已将相关代码独立申请著作权，受法律保护！！！\r\n\t* 无论你购买任何版本，均不允许复制到第三方直接、间接使用，且也不能以学习为目的参考和借鉴！！\r\n\t* 你仅有在 flbooth 中使用、二次开发权利，否则我们会追究法律责任\r\n\t* 上海蜂雷网络科技有限公司 @www.i36k.com\r\n\t* 法律顾问：易法通 @http://www.yifatong.com/\r\n-->\r\n<template>\r\n\t<view class=\"video\">\r\n\t\t<view class=\"empty position-center align-center justify-center\" v-if=\"videoList.length === 0 && status !== 'loading'\">\r\n\t\t\t<view>\r\n\t\t\t\t\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<swiper \r\n\t\t\tvertical\r\n\t\t\tacceleration\r\n\t\t\t:current=\"videoIndex\" \r\n\t\t\t:style=\"{width: width + 'px', height: height + 'px'}\"\r\n\t\t\t@change=\"changeCurrent\"\r\n\t\t\t@animationfinish=\"animationFinish\">\r\n\t\t\t<swiper-item v-for=\"(item, index) in videoList\" :key=\"index\">\r\n\t\t\t\t<!-- 视频预渲染 +1 -->\r\n\t\t\t\t<block v-if=\"Math.abs(videoIndex - index) <= 1\">\r\n\t\t\t\t<!-- <block v-if=\"videoIndex === index\"> -->\r\n\t\t\t\t\t<view @click=\"handleClicked\">\r\n\t\t\t\t\t\t<!-- 播放界面 -->\r\n\t\t\t\t\t\t<wanl-find-video \r\n\t\t\t\t\t\t\tref=\"wanlVideo\"\r\n\t\t\t\t\t\t\t:width=\"width\" \r\n\t\t\t\t\t\t\t:height=\"height\"\r\n\t\t\t\t\t\t\t:src=\"item.video.url\"\r\n\t\t\t\t\t\t\t:play=\"item.play\"\r\n\t\t\t\t\t\t\t:videoId=\"item.id\"\r\n\t\t\t\t\t\t\t:coverUrl=\"item.video.cover_url\"\r\n\t\t\t\t\t\t\t:objectFit=\"item.video.fit\"\r\n\t\t\t\t\t\t\t:gDuration=\"item.video.duration\" \r\n\t\t\t\t\t\t\t:initialTime=\"item.initialTime\"\r\n\t\t\t\t\t\t\t@pause=\"pauseVideo\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<!-- 组件 -->\r\n\t\t\t\t\t\t<view class=\"position-bottom-center\" :style=\"{bottom: `${safeBottom}`}\">\r\n\t\t\t\t\t\t\t<view class=\"flex-direction justify-between align-end padding-lr-bj padding-bottom-sm\">\r\n\t\t\t\t\t\t\t\t<view class=\"flex-sub padding-right-bj\">\r\n\t\t\t\t\t\t\t\t\t<view v-if=\"item.shop\" class=\"left-title\" @click.stop=\"handleShop(item.shop.id)\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"text-white margin-bottom-s text-lg\">@{{item.shop.shopname}}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view v-if=\"item.user\" class=\"left-title\" @click.stop=\"handleUser(item.user_no)\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"text-white margin-bottom-s text-lg\">@{{item.user.nickname}}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"left-describe flex-direction\">\r\n\t\t\t\t\t\t\t\t\t\t<!-- #ifndef APP-PLUS -->\r\n\t\t\t\t\t\t\t\t\t\t<!-- <text class=\"text-orange text-df\" @click.stop=\"handleTag\">#标题测试#</text> -->\r\n\t\t\t\t\t\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"text-lines-3 flex-sub text-df text-white-8\">{{formatHtml(item.content)}}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"main-right align-center\">\r\n\t\t\t\t\t\t\t\t\t<view v-if=\"item.shop\" class=\"main-right-user position-relative margin-bottom-xs align-center\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"main-right-image justify-center bg-white round align-center\" @click.stop=\"handleUser(item.user_no)\">\r\n\t\t\t\t\t\t\t\t\t\t\t<image class=\"main-right-img round\" :src=\"oss(item.shop.avatar, 35, 35, 2, 'avatar')\"/>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view v-if=\"item.isFollow === 0\" class=\"main-right-user-follow bg-red round position-absolute justify-center align-center\" @click.stop=\"handleFollow(item.shop)\">\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"text-min icon\">&#xe644;</text>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view v-if=\"item.isFollow === 1\" class=\"main-right-user-follow bg-red round position-absolute justify-center align-center\" @click.stop=\"handleFollow(item.shop)\">\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"text-min icon text-bold\">&#xe66c;</text>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view v-if=\"item.user\" class=\"main-right-user position-relative margin-bottom-xs align-center\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"main-right-image justify-center bg-white round align-center\" @click.stop=\"handleUser(item.user_no)\">\r\n\t\t\t\t\t\t\t\t\t\t\t<image class=\"main-right-img round\" :src=\"oss(item.user.avatar, 35, 35, 2, 'avatar')\"/>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view v-if=\"item.isFollow === 0\" class=\"main-right-user-follow bg-red round position-absolute justify-center align-center\" @click.stop=\"handleFollow()\">\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"text-min icon\">&#xe644;</text>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view v-if=\"item.content\" class=\"margin-top align-center\" @click.stop=\"handleLike\">\r\n\t\t\t\t\t\t\t\t\t\t<text :class=\"{'text-red': item.isLike === 1}\" class=\"icon text-xxxxl \">&#xe635;</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"text-white text-min\">{{item.likes}}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view v-if=\"isComment === 'Y'\" class=\"margin-top align-center\" @click.stop=\"handleComment\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"icon text-xxxxl\">&#xe68c;</text>\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"text-white text-min\">{{item.comments}}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view v-if=\"item.content\" class=\"margin-top align-center\" @click.stop=\"handleShare\">\r\n\t\t\t\t\t\t\t\t\t\t<text class=\"icon text-xxxxl\">&#xe72f;</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<!-- 商品 -->\r\n\t\t\t\t\t\t\t<scroll-view \r\n\t\t\t\t\t\t\t\tclass=\"goods flex-direction\" \r\n\t\t\t\t\t\t\t\t:style=\"{width: width + 'px'}\" \r\n\t\t\t\t\t\t\t\tscroll-x\r\n\t\t\t\t\t\t\t\tenable-flex=\"true\"\r\n\t\t\t\t\t\t\t\t:show-scrollbar=\"false\">\r\n\t\t\t\t\t\t\t\t<view class=\"goods-item\" :style=\"{width: width * 0.8 + 'px'}\" v-for=\"(goods, keys) in item.goods\" :key=\"keys\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"flex-direction\">\r\n\t\t\t\t\t\t\t\t\t\t<image class=\"goods-item-img\" :src=\"oss(goods.image, 60, 60)\"></image>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"flex-sub justify-between\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"text-sm text-lines-mp text-black-8\">{{goods.title}}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"flex-direction justify-between\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"goods-item-content-details-price\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"text-df text-orange\">￥{{goods.price}}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"padding-tb-s wanl-bg-orange radius padding-lr-xs align-center flex-direction\" @click.stop=\"handleGoods(goods.id)\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"icon text-min\">&#xe636;</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"text-min text-white margin-left-s\">立即购买</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</scroll-view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</block>\r\n\t\t\t</swiper-item>\r\n\t\t</swiper>\r\n\t\t<!-- 弹出层 -->\r\n\t\t<uni-popup ref=\"wanlCommentPopup\" type=\"bottom\">\r\n\t\t\t<view class=\"comment padding-bj\">  \r\n\t\t\t\t<view class=\"flex-direction justify-between align-center margin-bottom-bj\">\r\n\t\t\t\t\t<text></text>\r\n\t\t\t\t\t<text class=\"text-white text-30\">全部评论（{{commentData.count}}）</text>\r\n\t\t\t\t\t<text class=\"icon text-30\" @tap=\"handleCommentClose\">&#xe66b;</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<wanl-comment\r\n\t\t\t\t\t:embedded=\"true\"\r\n\t\t\t\t\t:findId=\"commentData.find_id\"\r\n\t\t\t\t\t:commentList=\"commentData.list\"\r\n\t\t\t\t\t:commenCount=\"commentData.count\"\r\n\t\t\t\t\t@complete=\"handleComplete\"\r\n\t\t\t\t/>\r\n\t\t\t\t<view :style=\"{height: `${bottom}px`}\" />\r\n\t\t\t</view>  \r\n\t\t</uni-popup>\r\n\t\t<!-- 弹出层 -->\r\n\t\t<uni-popup ref=\"wanlSharePopup\" type=\"bottom\">\r\n\t\t\t<view class=\"share bg-white padding-bj\">  \r\n\t\t\t\t<view class=\"flex-direction justify-between align-center margin-bottom-bj\">\r\n\t\t\t\t\t<text></text>\r\n\t\t\t\t\t<text class=\"text-black text-30\">分享到</text>\r\n\t\t\t\t\t<text class=\"icon text-30 text-black\" @tap=\"handleShareClose\">&#xe66b;</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<scroll-view class=\"share-scroll-view flex-direction\" scroll-x :show-scrollbar=\"false\" scroll-with-animation>\r\n\t\t\t\t\t<!-- #ifdef MP -->\r\n\t\t\t\t\t<view class=\"share-scroll-view-item\">\r\n\t\t\t\t\t\t<button class=\"share-scroll-view-item-button\" open-type=\"share\">\r\n\t\t\t\t\t\t\t<view class=\"share-scroll-view-item-button-icon justify-center align-center bg-green\">\r\n\t\t\t\t\t\t\t\t<text class=\"icon text-xxl text-white\">&#xe608;</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"margin-top-xs\">\r\n\t\t\t\t\t\t\t\t<text class=\"text-sm text-black\">分享</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t<view class=\"share-scroll-view-item\" v-for=\"(item, index) in providerList\" :key=\"index\" v-if=\"item\">\r\n\t\t\t\t\t\t<button class=\"share-scroll-view-item-button\" @tap=\"handleOnShare(item)\">\r\n\t\t\t\t\t\t\t<view class=\"share-scroll-view-item-button-icon justify-center align-center\" :class=\"item.background\">\r\n\t\t\t\t\t\t\t\t<text v-if=\"item.id === 'weixin'\" class=\"icon text-xxl text-white\">&#xe608;</text>\r\n\t\t\t\t\t\t\t\t<text v-if=\"item.id === 'sinaweibo'\" class=\"icon text-xxl text-white\">&#xe6b6;</text>\r\n\t\t\t\t\t\t\t\t<text v-if=\"item.id === 'qq'\" class=\"icon text-xxl text-white\">&#xe60b;</text>\r\n\t\t\t\t\t\t\t\t<text v-if=\"item.id === 'poster'\" class=\"icon text-xxl text-black\">&#xe6c8;</text>\r\n\t\t\t\t\t\t\t\t<text v-if=\"item.id === 'link'\" class=\"icon text-xxl text-black\">&#xe63b;</text>\r\n\t\t\t\t\t\t\t\t<text v-if=\"item.id === 'report'\" class=\"icon text-xxl text-black\">&#xe652;</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"margin-top-xs\">\r\n\t\t\t\t\t\t\t\t<text class=\"text-sm text-black\">{{ item.name }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t\t<view :style=\"{height: `${bottom}px`}\" /> \r\n\t\t\t</view>  \r\n\t\t</uni-popup>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport wanlFindVideo from '@/components/wanl-find/video';\r\n\t// #ifdef H5\r\n\timport jssdk from '@/common/libs/jssdk';\r\n\t// #endif\r\n\tlet timer = null\r\n\texport default {\r\n\t\tname: \"wanlFindPlay\",\r\n\t\tcomponents: {\r\n\t\t\twanlFindVideo\r\n\t\t},\r\n\t\tprops: {\r\n\t\t\tfind_id: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tisComment: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: 'N'\r\n\t\t\t},\r\n\t\t\theight: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t},\r\n\t\t\twidth: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t},\r\n\t\t\tbottom: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t},\r\n\t\t\tsafeBottom: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tpreload: 2, //当前页剩余个数换页\r\n\t\t\t\tclickNum: 0, //记录点击次数\r\n\t\t\t\tvideoList: [],\r\n\t\t\t\tcurrent_page: 1, //当前页码\r\n\t\t\t\tlast_page: 1, //总页码\r\n\t\t\t\tstatus: 'loading',\r\n\t\t\t\tvideoIndex: 0,\r\n\t\t\t\toldVideoIndex: 0,\r\n\t\t\t\tcommentData: {},\r\n\t\t\t\tproviderList: []\r\n\t\t\t};\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.loadData();\r\n\t\t\t// 分享\r\n\t\t\tuni.getProvider({\r\n\t\t\t\tservice: 'share',\r\n\t\t\t\tsuccess: e => {\r\n\t\t\t\t\tlet data = [];\r\n\t\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\t\tfor (let i = 0; i < e.provider.length; i++) {\r\n\t\t\t\t\t\tswitch (e.provider[i]) {\r\n\t\t\t\t\t\t\tcase 'weixin':\r\n\t\t\t\t\t\t\t\tdata.push(\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tname: '微信好友',\r\n\t\t\t\t\t\t\t\t\t\tid: 'weixin',\r\n\t\t\t\t\t\t\t\t\t\tbackground: 'bg-green',\r\n\t\t\t\t\t\t\t\t\t\tsort: 0\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tname: '微信朋友圈',\r\n\t\t\t\t\t\t\t\t\t\tid: 'weixin',\r\n\t\t\t\t\t\t\t\t\t\tbackground: 'bg-green',\r\n\t\t\t\t\t\t\t\t\t\ttype: 'WXSenceTimeline',\r\n\t\t\t\t\t\t\t\t\t\tsort: 1\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'sinaweibo':\r\n\t\t\t\t\t\t\t\tdata.push({\r\n\t\t\t\t\t\t\t\t\tname: '新浪微博',\r\n\t\t\t\t\t\t\t\t\tid: 'sinaweibo',\r\n\t\t\t\t\t\t\t\t\tbackground: 'bg-red',\r\n\t\t\t\t\t\t\t\t\tsort: 2\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 'qq':\r\n\t\t\t\t\t\t\t\tdata.push({\r\n\t\t\t\t\t\t\t\t\tname: 'QQ',\r\n\t\t\t\t\t\t\t\t\tid: 'qq',\r\n\t\t\t\t\t\t\t\t\tbackground: 'bg-blue',\r\n\t\t\t\t\t\t\t\t\tsort: 3\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\tdata.push(\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tname: '生成海报',\r\n\t\t\t\t\t\t\tid: 'poster',\r\n\t\t\t\t\t\t\tbackground: 'bg-gray',\r\n\t\t\t\t\t\t\tsort: 4\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tname: '链接',\r\n\t\t\t\t\t\t\tid: 'link',\r\n\t\t\t\t\t\t\tbackground: 'bg-gray',\r\n\t\t\t\t\t\t\tsort: 5\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t\tif(this.isReport){\r\n\t\t\t\t\t\tdata.push(\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tname: '举报',\r\n\t\t\t\t\t\t\t\tid: 'report',\r\n\t\t\t\t\t\t\t\tbackground: 'bg-gray',\r\n\t\t\t\t\t\t\t\tsort: 6\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.providerList = data.sort((x, y) => {\r\n\t\t\t\t\t\treturn x.sort - y.sort;\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\tfail: e => {\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\tcontent: '获取分享通道失败',\r\n\t\t\t\t\t\tshowCancel: false\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tasync loadData(type){\r\n\t\t\t\tthis.status = 'loading';\r\n\t\t\t\tif(type === 'update'){\r\n\t\t\t\t\tif (this.current_page >= this.last_page) {\r\n\t\t\t\t\t\tthis.status = 'noMore';\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.current_page += 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// 获取客户端类型\r\n\t\t\t\tlet client = '';\r\n\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\tclient = 'app-flbooth';\r\n\t\t\t\t// #endif\r\n\t\t\t\t// #ifdef H5\r\n\t\t\t\tif(jssdk.isWechat()){\r\n\t\t\t\t\tclient = 'wechat-flbooth';\r\n\t\t\t\t}else{\r\n\t\t\t\t\tclient = 'h5-flbooth';\r\n\t\t\t\t}\r\n\t\t\t\t// #endif\r\n\t\t\t\t// #ifdef MP\r\n\t\t\t\tclient = 'mp-flbooth';\r\n\t\t\t\t// #endif\r\n\t\t\t\t\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: `${this.$store.state.common.appUrl.api}/flbooth/find/find/getList`,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\ttype: 'video',\r\n\t\t\t\t\t\tpage: this.current_page,\r\n\t\t\t\t\t\tfind_id: this.find_id\r\n\t\t\t\t\t},\r\n\t\t\t\t\theader: { \r\n\t\t\t\t\t\t'App-Client': client,\r\n\t\t\t\t\t\t'Accept-Language':'zh-CN,zh;q=0.9',\r\n\t\t\t\t\t\ttoken: this.$store.state.user.token\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tif(res.data.code === 1){\r\n\t\t\t\t\t\t\tif(type === 'lower'){\r\n\t\t\t\t\t\t\t\tthis.videoList = this.videoList.concat(res.data.data.data);\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tthis.videoList = res.data.data.data;\r\n\t\t\t\t\t\t\t\tif(res.data.data.data.length > 0){\r\n\t\t\t\t\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\t\t\t\t\tthis.videoPlay(this.videoIndex)\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t    title: '系统还未上传任何视频！',\r\n\t\t\t\t\t\t\t\t\t    icon: 'none'\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.current_page = res.data.data.current_page;  //当前页码\r\n\t\t\t\t\t\t\tthis.last_page = res.data.data.last_page;  //总页码\r\n\t\t\t\t\t\t\t// 判断是否还有数据\r\n\t\t\t\t\t\t\tif(res.data.data.current_page === res.data.data.last_page || res.data.data.total === 0){\r\n\t\t\t\t\t\t\t\tthis.status = 'noMore';\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tthis.status = 'more';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t    title: '服务器繁忙',\r\n\t\t\t\t\t\t\t    icon: 'none'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tasync handleFollow(shop = null) {\r\n\t\t\t\tif (this.$store.state.user.isLogin) {\r\n\t\t\t\t\tvar data = this.videoList[this.videoIndex];\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl: `${this.$store.state.common.appUrl.api}/flbooth/find/user/setFindUser`,\r\n\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tid: data.user_no,\r\n\t\t\t\t\t\t\ttype: 'follow'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\theader: { \r\n\t\t\t\t\t\t\t'Accept-Language':'zh-CN,zh;q=0.9',\r\n\t\t\t\t\t\t\ttoken: this.$store.state.user.token\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\tif(res.data.code === 1){\r\n\t\t\t\t\t\t\t\tif(shop){\r\n\t\t\t\t\t\t\t\t\tlet concern = this.$store.state.statistics.dynamic.concern;\r\n\t\t\t\t\t\t\t\t\tif(res.data.data.data === 0){\r\n\t\t\t\t\t\t\t\t\t\tconcern -= 1;\r\n\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\tconcern += 1;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tthis.$store.commit('statistics/dynamic', {\r\n\t\t\t\t\t\t\t\t\t\tconcern: concern,\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tdata.isFollow = res.data.data.data;\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t    title: '服务器繁忙',\r\n\t\t\t\t\t\t\t\t    icon: 'none'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: '/pages/user/auth/auth'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tasync handleLike() {\r\n\t\t\t\tif (this.$store.state.user.isLogin) {\r\n\t\t\t\t\tlet data = this.videoList[this.videoIndex];\r\n\t\t\t\t\t// 加载网络\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl: `${this.$store.state.common.appUrl.api}/flbooth/find/user/setFindUser`,\r\n\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tid: data.id,\r\n\t\t\t\t\t\t\ttype: 'likes'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\theader: { \r\n\t\t\t\t\t\t\t'Accept-Language':'zh-CN,zh;q=0.9',\r\n\t\t\t\t\t\t\ttoken: this.$store.state.user.token\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\tif(res.data.code === 1){\r\n\t\t\t\t\t\t\t\tif(res.data.data.data === 0){\r\n\t\t\t\t\t\t\t\t\tdata.likes -= 1;\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tdata.likes += 1;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tdata.isLike = res.data.data.data;\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t    title: '服务器繁忙',\r\n\t\t\t\t\t\t\t\t    icon: 'none'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: '/pages/user/auth/auth'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync handleComment(){\r\n\t\t\t\tif (this.$store.state.user.isLogin) {\r\n\t\t\t\t\tlet data = this.videoList[this.videoIndex];\r\n\t\t\t\t\t// 加载网络\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl: `${this.$store.state.common.appUrl.api}/flbooth/find/comments/getList`,\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tid: data.id\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\theader: { \r\n\t\t\t\t\t\t\t'Accept-Language':'zh-CN,zh;q=0.9',\r\n\t\t\t\t\t\t\ttoken: this.$store.state.user.token\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\t\tif(res.data.code === 1){\r\n\t\t\t\t\t\t\t\tthis.commentData = res.data.data;\r\n\t\t\t\t\t\t\t\tthis.commentData.find_id = data.id;\r\n\t\t\t\t\t\t\t\tdata.comments = res.data.data.count;\r\n\t\t\t\t\t\t\t\tthis.$refs.wanlCommentPopup.open();\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t    title: '服务器繁忙',\r\n\t\t\t\t\t\t\t\t    icon: 'none'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: '/pages/user/auth/auth'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\thandleComplete(e){\r\n\t\t\t\tif(e.type === 'add'){\r\n\t\t\t\t\tthis.handleCommentClose();\r\n\t\t\t\t}\r\n\t\t\t\tthis.commentData.count = e.count;\r\n\t\t\t\tthis.videoList[this.videoIndex].comments = e.count;\r\n\t\t\t},\r\n\t\t\thandleUser(user_no){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/pages/apps/find/user?id=${user_no}`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\thandleShop(id){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/pages/shop/index?id=${id}`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\thandleGoods(id){\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/pages/product/goods?id=${id}`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\thandleCommentClose(){\r\n\t\t\t\tthis.$refs.wanlCommentPopup.close();\r\n\t\t\t},\r\n\t\t\thandleShare(){\r\n\t\t\t\tthis.$refs.wanlSharePopup.open();\r\n\t\t\t},\r\n\t\t\thandleOnShare(e){\r\n\t\t\t\tlet find = this.videoList[this.videoIndex];\r\n\t\t\t\tlet href = `${this.$store.state.common.appConfig.domain}/pages/apps/find/details/video?id=${find.id}`;\r\n\t\t\t\tlet shareType = 0; //shareType 分享类型 0.图文 1.纯文字 2.纯图片 5.小程序\r\n\t\t\t\tlet shareText = this.formatHtml(find.content);\r\n\t\t\t\tlet image = find.images[0];\r\n\t\t\t\tlet shareTitle = '短视频分享';\r\n\t\t\t\tif (e.id == 'poster') {\r\n\t\t\t\t\tthis.$flbooth.to('/pages/user/qrcode/qrcode?url='+encodeURIComponent(href));\r\n\t\t\t\t} else if (e.id == 'link') {\r\n\t\t\t\t\tthis.copy(href);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 开始分享\r\n\t\t\t\t\tlet shareOPtions = {\r\n\t\t\t\t\t\tprovider: e.id,\r\n\t\t\t\t\t\tscene: e.type && e.type === 'WXSenceTimeline' ? 'WXSenceTimeline' : 'WXSceneSession', //WXSceneSession”分享到聊天界面，“WXSenceTimeline”分享到朋友圈，“WXSceneFavorite”分享到微信收藏     \r\n\t\t\t\t\t\ttype: shareType,\r\n\t\t\t\t\t\tsuccess: (e) => {\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\tcontent: '已分享',\r\n\t\t\t\t\t\t\t\tshowCancel:false\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: (e) => {\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\tcontent: e.errMsg,\r\n\t\t\t\t\t\t\t\tshowCancel:false\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tswitch (shareType){\r\n\t\t\t\t\t\tcase 0:\r\n\t\t\t\t\t\t\tshareOPtions.summary = shareText;\r\n\t\t\t\t\t\t\tshareOPtions.imageUrl = image;\r\n\t\t\t\t\t\t\tshareOPtions.title = shareTitle;\r\n\t\t\t\t\t\t\tshareOPtions.href = href;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\t\tshareOPtions.summary = shareText;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\t\tshareOPtions.imageUrl = image;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 5:\r\n\t\t\t\t\t\t\tvar pages = getCurrentPages();  \r\n\t\t\t\t\t\t\tvar page = (pages[pages.length - 1]).route;  \r\n\t\t\t\t\t\t\tshareOPtions.imageUrl = image;\r\n\t\t\t\t\t\t\tshareOPtions.title = shareTitle;\r\n\t\t\t\t\t\t\tshareOPtions.miniProgram = {\r\n\t\t\t\t\t\t\t\tid: this.$store.state.common.appConfig.mp_weixin_id,\r\n\t\t\t\t\t\t\t\tpath: page, //微信小程序ID\r\n\t\t\t\t\t\t\t\twebUrl: href,\r\n\t\t\t\t\t\t\t\ttype:0\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// if(shareOPtions.type === 0 && plus.os.name === 'iOS'){//如果是图文分享，且是ios平台，则压缩图片 \r\n\t\t\t\t\t// \tshareOPtions.imageUrl = await this.compress();\r\n\t\t\t\t\t// }\r\n\t\t\t\t\tif(shareOPtions.type === 1 && shareOPtions.provider === 'qq'){//如果是分享文字到qq，则必须加上href和title\r\n\t\t\t\t\t\tshareOPtions.href = href;\r\n\t\t\t\t\t\tshareOPtions.title = shareTitle;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tuni.share(shareOPtions);\r\n\t\t\t\t}\r\n\t\t\t\tthis.handleShareClose();\r\n\t\t\t},\r\n\t\t\thandleShareClose(){\r\n\t\t\t\tthis.$refs.wanlSharePopup.close();\r\n\t\t\t},\r\n\t\t\thandleTag(){\r\n\t\t\t\tconsole.log('点击标签')\r\n\t\t\t},\r\n\t\t\t// 点击视频事件\r\n\t\t\thandleClicked() {\r\n\t\t\t    if(timer){\r\n\t\t\t        clearTimeout(timer)\r\n\t\t\t    }\r\n\t\t\t    this.clickNum++\r\n\t\t\t    timer = setTimeout(() => {\r\n\t\t\t        if(this.clickNum >= 2){\r\n\t\t\t\t\t\tthis.handleLike()\r\n\t\t\t        }else{\r\n\t\t\t\t\t\tthis.videoList[this.videoIndex].play = !this.videoList[this.videoIndex].play;\r\n\t\t\t        }\r\n\t\t\t        this.clickNum = 0\r\n\t\t\t    }, 300)\r\n\t\t\t},\r\n\t\t\t// 播放当前视频\r\n\t\t\tvideoPlay(index) {\r\n\t\t\t\tthis.videoList[index].play = !this.videoList[index].play;\r\n\t\t\t},\r\n\t\t\thandleVideoPlay(){\r\n\t\t\t\tif(this.videoList.length > 0)\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tthis.videoList[this.videoIndex].play = true;\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\thandleVideoPause(){\r\n\t\t\t\tfor (let item of this.videoList) {\r\n\t\t\t\t\titem.play = false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 时间打标\r\n\t\t\tpauseVideo(val) {\r\n\t\t\t\t// 1.0.9临时\r\n\t\t\t\t// if (typeof this.videoList[this.oldVideoIndex].initialTime != 'undefined') {\r\n\t\t\t\t// \tthis.videoList[this.oldVideoIndex].initialTime = val\r\n\t\t\t\t// }\r\n\t\t\t},\r\n\t\t\tanimationFinish(e) {\r\n\t\t\t\t//#ifdef APP-PLUS\r\n\t\t\t\tthis.changeCurrent(e)\r\n\t\t\t\t//#endif\r\n\t\t\t},\r\n\t\t\tchangeCurrent(e) {\r\n\t\t\t\tthis.videoIndex = e.detail.current;\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tfor (let item of this.videoList) {\r\n\t\t\t\t\t\titem.play = false\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.videoList[this.videoIndex].play = true\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 格式化html\r\n\t\t\tformatHtml(content){\r\n\t\t\t\treturn (content.replace(/<\\/?.+?>/g,\"\").replace(/ /g,\"\"));\r\n\t\t\t},\r\n\t\t\tcopy(content){\r\n\t\t\t\t// 复制内容，必须字符串，数字需要转换为字符串\r\n\t\t\t\tcontent = typeof content === 'string' ? content : content.toString();\r\n\t\t\t\t//#ifndef H5\r\n\t\t\t\tuni.setClipboardData({\r\n\t\t\t\t\tdata: content,\r\n\t\t\t\t\tsuccess: function() {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t    title: `复制成功 ${content}`,\r\n\t\t\t\t\t\t    icon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail:function(){\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t    title: `复制失败`,\r\n\t\t\t\t\t\t    icon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t//#endif\r\n\t\t\t\t// #ifdef H5\r\n\t\t\t\tif (!document.queryCommandSupported('copy')) { //为了兼容有些浏览器 queryCommandSupported 的判断\r\n\t\t\t\t\tmsg('浏览器不支持');\r\n\t\t\t\t}\r\n\t\t\t\tlet textarea = document.createElement(\"textarea\")\r\n\t\t\t\ttextarea.value = content\r\n\t\t\t\ttextarea.readOnly = \"readOnly\"\r\n\t\t\t\tdocument.body.appendChild(textarea)\r\n\t\t\t\ttextarea.select() // 选择对象\r\n\t\t\t\ttextarea.setSelectionRange(0, content.length) //核心\r\n\t\t\t\tlet result = document.execCommand(\"copy\") // 执行浏览器复制命令\r\n\t\t\t\tif(result){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t    title: `复制成功 ${content}`,\r\n\t\t\t\t\t    icon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t}else{\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t    title: `复制失败`,\r\n\t\t\t\t\t    icon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\t\r\n\t\t\t\ttextarea.remove()\r\n\t\t\t\t// #endif\r\n\t\t\t},\r\n\t\t\toss(url, w = 120, h = 120, modenum = 2, type = '', format = 'jpg', resize = 'resize', multiple = 3){\r\n\t\t\t\tlet ossStc = this.$store.state.common.appUrl.oss;\r\n\t\t\t\tlet image = '';\r\n\t\t\t\tlet mode = [\"m_lfit\",\"m_mfit\",\"m_fill\",\"m_fixed\"];\r\n\t\t\t\t// 图像，自适应方向：1，渐进显示：1，转换格式：jpg，图片质量：q_90，图片锐化：50，浓缩图\r\n\t\t\t\tlet rule = [\"?x-oss-process=image\", \"auto-orient,1\", \"interlace,1\", \"format,jpg\", \"quality,q_90\", \"sharpen,50\", \"resize,m_fixed,w_120,h_120\"];\r\n\t\t\t\t// 转换格式\r\n\t\t\t\tif (format == 'png') {\r\n\t\t\t\t\trule[3] = [\"format\", \"png\"].join(\",\");\r\n\t\t\t\t}\r\n\t\t\t\t// 判断是否有高度\r\n\t\t\t\tif (w == 0) {\r\n\t\t\t\t\trule[6] = [resize, mode[modenum], `h_${h * multiple}`].join(\",\");\r\n\t\t\t\t}else if(h == 0){\r\n\t\t\t\t\trule[6] = [resize, mode[modenum], `w_${w * multiple}`].join(\",\");\r\n\t\t\t\t}else{\r\n\t\t\t\t\trule[6] = [resize, mode[modenum], `w_${w * multiple}`, `h_${h * multiple}`].join(\",\");\r\n\t\t\t\t}\r\n\t\t\t\t//当地址不存在\r\n\t\t\t\tif (url) {\r\n\t\t\t\t\tif ((/^data:image\\//.test(url))) {\r\n\t\t\t\t\t\timage = url;\r\n\t\t\t\t\t}else if((/^(http|https):\\/\\/.+/.test(url))){\r\n\t\t\t\t\t\trule.pop();\r\n\t\t\t\t\t\timage = url + rule.join(\"/\");\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\timage = ossStc + url + rule.join(\"/\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif (type == 'transparent') {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}else if(type == 'avatar'){\r\n\t\t\t\t\t\timage = ossStc + '/common/mine_def_touxiang_3x.png';\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\timage = ossStc + '/common/img_default3x.png';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn image;\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\t// 加载新的视频\r\n\t\t\tvideoIndex(newVal, oldVal) {\r\n\t\t\t\tif (this.videoList.length - this.videoIndex - 1 <= this.preload) {\r\n\t\t\t\t\tthis.loadData('update')\r\n\t\t\t\t}\r\n\t\t\t\tthis.oldVideoIndex = oldVal\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style>\r\n\t@import '@/static/style/wanlnvue.css';\r\n\t\r\n\t.share{\r\n\t\tborder-top-left-radius: 26rpx;\r\n\t\tborder-top-right-radius: 26rpx;\r\n\t}\r\n\t.share-scroll-view{\r\n\t\t/* #ifndef APP-PLUS */\r\n\t\twhite-space: nowrap;\r\n\t\t/* #endif */\r\n\t}\r\n\t.share-scroll-view-item{\r\n\t\t/* #ifndef APP-PLUS */\r\n\t\tdisplay: inline-flex;\r\n\t\t/* #endif */\r\n\t\tmargin-right: 36rpx;\r\n\t}\r\n\t.share-scroll-view-item-button{\r\n\t\tbackground-color: rgba(0, 0, 0, 0);\r\n\t\tborder: 0;\r\n\t\tpadding: 0;\r\n\t\tflex-direction: column;\r\n\t}\r\n\t.share-scroll-view-item-button-icon{\r\n\t\twidth: 100rpx;\r\n\t\theight: 100rpx;\r\n\t\tborder-radius: 5000rpx;\r\n\t}\r\n\t/* #ifndef APP-PLUS */\r\n\tbutton:after{\r\n\t\tborder: 0;\r\n\t}\r\n\t/* #endif */\r\n\t\r\n\t.video{\r\n\t\tbackground-color: #000000;\r\n\t}\r\n\t\r\n\t.left-describe{\r\n\t\t/* #ifndef APP-PLUS */\r\n\t\tdisplay: inline;\r\n\t\t/* #endif */\r\n\t}\r\n\t.main-right{\r\n\t\twidth: 98rpx;\r\n\t}\r\n\t\t.main-right-user{\r\n\t\t\theight: 116rpx;\r\n\t\t\twidth: 98rpx;\r\n\t\t}\r\n\t\t\t.main-right-user-follow{\r\n\t\t\t\twidth: 40rpx;\r\n\t\t\t\theight: 40rpx;\r\n\t\t\t\tbottom: 0;\r\n\t\t\t\tz-index: 999;\r\n\t\t\t}\r\n\t\t.main-right-image{\r\n\t\t\twidth: 98rpx;\r\n\t\t\theight: 98rpx;\r\n\t\t}\r\n\t\t\t.main-right-img{\r\n\t\t\t\twidth: 90rpx;\r\n\t\t\t\theight: 90rpx;\r\n\t\t\t}\r\n\t.goods {\r\n\t\t/* #ifndef APP-PLUS */\r\n\t\twhite-space: nowrap;\r\n\t\t/* #endif */\r\n\t\theight: 174rpx;\r\n\t}\r\n\t.goods-item {\r\n\t\t/* #ifndef APP-PLUS */\r\n\t\tdisplay: inline-block;\r\n\t\t/* #endif */\r\n\t\tbackground-color: rgba(255,255,255,.9);\r\n\t\tborder-radius: 18rpx;\r\n\t\tmargin-left: 14rpx;\r\n\t\tpadding: 14rpx;\r\n\t\theight: 154rpx;\r\n\t}\r\n\t\t.goods-item-img{\r\n\t\t\theight: 126rpx;\r\n\t\t\twidth: 126rpx;\r\n\t\t\tmargin-right: 14rpx;\r\n\t\t\tborder-radius: 4rpx;\r\n\t\t}\r\n\t.comment{\r\n\t\tbackground-color: rgba(10,10,10,0.9);\r\n\t\tborder-top: 2rpx solid rgba(255,255,255,0.1);\r\n\t\tborder-top-left-radius: 26rpx;\r\n\t\tborder-top-right-radius: 26rpx;\r\n\t}\r\n\t\r\n</style>\r\n","import mod from \"-!../../../../../hbuild/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../hbuild/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../hbuild/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../hbuild/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../hbuild/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../hbuild/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuild/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./play.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../hbuild/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../hbuild/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../hbuild/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../hbuild/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../hbuild/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../hbuild/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuild/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./play.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1657100110951\n      var cssReload = require(\"D:/soft/hbuild/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}