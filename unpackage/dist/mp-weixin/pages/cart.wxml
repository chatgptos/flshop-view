<view><view class="cu-custom" style="{{'height:'+($root.g0.height+'px')+';'}}"><view class="cu-bar fixed bg-bgcolor" style="{{'height:'+($root.g1.height+'px')+';'+('padding-top:'+($root.g2.top+'px')+';')+('background-color:'+(common.appStyle.cart_nav_color?common.appStyle.cart_nav_color:'#f7f7f7')+';')+('background-image:'+('url('+$root.g3+')')+';')+('color:'+(common.appStyle.cart_font_color=='light'?'#ffffff':'#333333')+';')}}"><view data-event-opts="{{[['tap',[['operate']]]]}}" class="action" bindtap="__e"><block wx:if="{{cart.operate}}"><text>完成</text></block><block wx:else><text>管理</text></block></view><view class="content" style="{{'top:'+($root.g4.top+'px')+';'}}">购物车<text class="text-sm">{{"（共"+cart.cartnum+"件宝贝）"}}</text></view></view></view><block wx:if="{{cart.list.length>0}}"><block><block wx:for="{{$root.l1}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="wanl-cart-shop radius-bock margin-bj padding-bj"><view data-event-opts="{{[['tap',[['onShop',['$0'],[[['cart.list','',index,'shop_id']]]]]]]}}" class="shop margin-bottom" bindtap="__e"><view data-event-opts="{{[['tap',[['shopchoose',['$0'],[[['cart.list','',index]]]]]]]}}" class="text-xxl margin-right-sm" catchtap="__e"><block wx:if="{{item.$orig.check}}"><text class="wlIcon-xuanze-danxuan wanl-orange"></text></block><block wx:else><text class="wlIcon-xuanze wanl-gray-light"></text></block></view><view class="shopname"><text class="wlIcon-dianpu1 margin-right-xs"></text><text class="text-30">{{item.$orig.shop_name}}</text></view><view class="info"><text class="wlIcon-fanhui2 margin-left-xs"></text></view></view><block wx:for="{{item.l0}}" wx:for-item="goods" wx:for-index="keys" wx:key="keys"><view class="wanl-cart-goods"><view data-event-opts="{{[['tap',[['choose',[['o',['index',index],['keys',keys]]]]]]]}}" class="text-xxl margin-right-sm" bindtap="__e"><block wx:if="{{goods.$orig.checked}}"><text class="wlIcon-xuanze-danxuan wanl-orange"></text></block><block wx:else><text class="wlIcon-xuanze wanl-gray-light"></text></block></view><view data-event-opts="{{[['tap',[['onGoods',['$0'],[[['cart.list','',index],['products','',keys,'goods_id']]]]]]]}}" class="picture" bindtap="__e"><image src="{{goods.g5}}" mode="aspectFill"></image></view><view class="content"><view data-event-opts="{{[['tap',[['onGoods',['$0'],[[['cart.list','',index],['products','',keys,'goods_id']]]]]]]}}" class="text-cut-2 wanl-gray-dark" bindtap="__e">{{''+goods.$orig.title+''}}</view><view class="cu-tag wanl-gray opt">{{'规格：'+goods.g6+''}}</view><view class="flex justify-between align-center"><view class="text-price wanl-orange text-lg">{{''+goods.$orig.sku.price+''}}</view><view class="wanl-numberBox solid"><view data-event-opts="{{[['tap',[['bcsub',['$0'],[[['cart.list','',index],['products','',keys]]]]]]]}}" bindtap="__e"><text class="wlIcon-jian round text-gray"></text></view><view>{{goods.$orig.number}}</view><view data-event-opts="{{[['tap',[['bcadd',['$0'],[[['cart.list','',index],['products','',keys]]]]]]]}}" bindtap="__e"><text class="wlIcon-tianjia round"></text></view></view></view></view></view></block></view></block></block></block><block wx:else><block class="margin-bj padding-bj"><wanl-empty vue-id="644cb30d-1" src="cart_default3x" text="哎呀，购物车空空如也！" bind:__l="__l"></wanl-empty><wanl-product vue-id="644cb30d-2" dataList="{{likeData}}" bind:__l="__l"></wanl-product></block></block><uni-load-more vue-id="644cb30d-3" status="{{status}}" content-text="{{contentText}}" bind:__l="__l"></uni-load-more><view class="safeAreaBottom"></view><block wx:if="{{cart.operate}}"><view class="wanl-cart-foot fixedView solid-top edit"><view data-event-opts="{{[['tap',[['toCartchoose']]]]}}" class="flex align-center" bindtap="__e"><view class="text-xxl"><block wx:if="{{cart.status}}"><text class="wlIcon-xuanze-danxuan wanl-orange"></text></block><block wx:else><text class="wlIcon-xuanze wanl-gray-light"></text></block></view><view class="margin-left-sm"><text>{{cart.status?'取消':'全选'}}</text></view></view><view class="flex"><block wx:if="{{cart.allnum==0}}"><button class="cu-btn round line-gray">移动关注</button></block><block wx:else><button data-event-opts="{{[['tap',[['move']]]]}}" class="cu-btn round line-orange" bindtap="__e">移动关注</button></block><button data-event-opts="{{[['tap',[['toEmpty']]]]}}" class="cu-btn round line-orange" bindtap="__e">快速清理</button><block wx:if="{{cart.allnum==0}}"><button class="cu-btn round line-gray">删除</button></block><block wx:else><button data-event-opts="{{[['tap',[['del']]]]}}" class="cu-btn round bg-gradual-orange" bindtap="__e">删除</button></block></view></view></block><block wx:else><view class="wanl-cart-foot fixedView solid-top account"><view data-event-opts="{{[['tap',[['toCartchoose']]]]}}" class="flex align-center" bindtap="__e"><view class="text-xxl"><block wx:if="{{cart.status}}"><text class="wlIcon-xuanze-danxuan wanl-orange"></text></block><block wx:else><text class="wlIcon-xuanze wanl-gray-light"></text></block></view><view class="margin-left-sm"><text>{{cart.status?'取消':'全选'}}</text></view></view><view class="flex"><view class="text-sm text-right"><view>合计：<text class="text-price wanl-orange text-lg">{{cart.allsum}}</text></view><view>不含运费</view></view><block wx:if="{{cart.allnum==0}}"><button class="cu-btn round line-gray">去结算</button></block><block wx:else><button data-event-opts="{{[['tap',[['settlement']]]]}}" class="cu-btn round bg-gradual-orange" bindtap="__e">{{'去结算 ('+cart.allnum+')'}}</button></block></view></view></block></view>