(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/complaint/complaint"],{"68f0":function(t,n,e){},8347:function(t,n,e){"use strict";e.r(n);var o=e("ca97"),i=e.n(o);for(var a in o)"default"!==a&&function(t){e.d(n,t,(function(){return o[t]}))}(a);n["default"]=i.a},9463:function(t,n,e){"use strict";var o=e("68f0"),i=e.n(o);i.a},b521:function(t,n,e){"use strict";(function(t){e("e954");o(e("66fd"));var n=o(e("d6e3"));function o(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=e,t(n.default)}).call(this,e("543d")["createPage"])},bedd:function(t,n,e){"use strict";var o;e.d(n,"b",(function(){return i})),e.d(n,"c",(function(){return a})),e.d(n,"a",(function(){return o}));var i=function(){var t=this,n=t.$createElement;t._self._c},a=[]},ca97:function(t,n,e){"use strict";(function(t){function e(t,n){var e;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=o(t))||n&&t&&"number"===typeof t.length){e&&(t=e);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c=!0,u=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return c=t.done,t},e:function(t){u=!0,r=t},f:function(){try{c||null==e.return||e.return()}finally{if(u)throw r}}}}function o(t,n){if(t){if("string"===typeof t)return i(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?i(t,n):void 0}}function i(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,o=new Array(n);e<n;e++)o[e]=t[e];return o}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a={data:function(){return{index:-1,picker:["虚假交易","诈骗欺诈","收到空包裹","假冒盗版","泄露信息","违禁物品","未按成交价交易","未按约定时间发货","垃圾营销","涉黄信息","不实信息","人身攻击","违法信息","诈骗信息"],complaintId:0,typeName:"",complaint:{type:0,complaint_user_id:0,complaint_shop_id:0,complaint_goods_id:0,images:[],content:"",reason:-1}}},onLoad:function(t){this.complaint.type=t.type,this.complaintId=t.id,0==t.type?(this.typeName="用户",this.complaint.complaint_user_id=t.id):1==t.type?(this.typeName="商品",this.complaint.complaint_goods_id=t.id):2==t.type?(this.typeName="店铺",this.complaint.complaint_shop_id=t.id):3==t.type&&(this.typeName="拼团",this.complaint.complaint_goods_id=t.id)},methods:{pickerChange:function(t){-1==t.detail.value?this.complaint.reason=0:this.complaint.reason=t.detail.value},chooseImg:function(){var n=this;t.chooseImage({sourceType:["camera","album"],sizeType:"compressed",count:8-this.complaint.images.length,success:function(e){n.$api.get({url:"/flbooth/common/uploadData",success:function(o){for(var i=0;i<e.tempFilePaths.length;i++)t.getImageInfo({src:e.tempFilePaths[i],success:function(t){n.$api.upload({url:o.uploadurl,filePath:t.path,name:"file",formData:"local"==o.storage?null:o.multipart,success:function(t){n.complaint.images.push(t.fullurl)}})}})}})}})},close:function(t){this.complaint.images.splice(t,1)},previewImage:function(n,o){var i,a=[],r=e(n);try{for(r.s();!(i=r.n()).done;){var c=i.value;a=a.concat(this.$flbooth.oss(c,500))}}catch(u){r.e(u)}finally{r.f()}t.previewImage({urls:a,current:a[o],indicator:"number"})},submit:function(){var t=this;return-1==this.complaint.reason?(this.$flbooth.msg("请选择举报理由"),!1):this.complaint.content?void this.$api.post({url:"/flbooth/complaint/add",data:this.complaint,success:function(n){t.$flbooth.to("/pages/page/success?type=complaint")}}):(this.$flbooth.msg("请填写举报内容"),!1)}}};n.default=a}).call(this,e("543d")["default"])},d6e3:function(t,n,e){"use strict";e.r(n);var o=e("bedd"),i=e("8347");for(var a in i)"default"!==a&&function(t){e.d(n,t,(function(){return i[t]}))}(a);e("9463");var r,c=e("f0c5"),u=Object(c["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],r);n["default"]=u.exports}},[["b521","common/runtime","common/vendor"]]]);