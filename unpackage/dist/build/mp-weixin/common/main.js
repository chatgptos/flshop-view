(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["common/main"],{"0c60":function(t,e,n){"use strict";(function(t,e){n("e954");var o=l(n("66fd")),a=l(n("f252")),r=l(n("0e8e")),i=l(n("b754")),u=l(n("1c9e")),c=l(n("14d2")),d=l(n("c124")),s=l(n("3299"));function l(t){return t&&t.__esModule?t:{default:t}}function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){g(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}wx.__webpack_require_UNI_MP_PLUGIN__=n,o.default.mixin(d.default),o.default.config.productionTip=c.default.debug,o.default.prototype.$api=i.default,o.default.prototype.$store=r.default,o.default.prototype.$base64=new s.default,i.default.setConfig({baseUrl:c.default.appurl,debug:c.default.debug}),i.default.interceptor.request=function(e){if(!e.header.token||!e.header.flbooth){var n=t.getStorageSync("flbooth:user");n&&(e.header.token=t.getStorageSync("flbooth:user").token),e.header["App-Client"]="mp-flbooth",e.header["Accept-Language"]="zh-CN,zh;q=0.9"}return void 0===e.toastError&&(e.toastError=!0),e},i.default.interceptor.response=function(t,e){return 1===t.code?t.success=!0:401===t.code&&C("/pages/user/auth/auth"),c.default.debug&&console.log(t),t},i.default.interceptor.fail=function(t,e){var n="";return n=200===t.statusCode||401===t.statusCode||403===t.statusCode?t.data.msg:404===t.statusCode?"API接口不存在":500===t.statusCode?"服务器繁忙":"API接口异常","request:fail abort statusCode:-1"==t.errMsg?c.default.debug&&console.log(t):e.toastError&&h(n),t};var h=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1500,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none";!1!==Boolean(e)&&(t.showToast({title:e,duration:n,mask:o,icon:a}),r.default.state.user.shock&&t.vibrateShort())},v=function(){var t=getCurrentPages(),e=t[t.length-2];return e.$vm},m=function(){var e=t.getSystemInfoSync(),n={top:e.statusBarHeight,height:e.statusBarHeight+t.upx2px(90),screenHeight:e.screenHeight,platform:e.platform,model:e.model,windowHeight:e.windowHeight,windowBottom:e.windowBottom,deviceId:e.deviceId};return n},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e&&t.setNavigationBarTitle({title:e}),"{}"!=JSON.stringify(n)&&t.setNavigationBarColor(n)},y=function(t){return c.default.cdnurl+"/assets/addons/flbooth/img"+t},w=function(t,e){return"thousand"==e&&(t>9999?t=(t/1e4).toFixed(1)+"w":t>999&&(t=(t/1e3).toFixed(1)+"k")),"hundred"==e&&t>99&&(t="99+"),t},_=function(t,e){return u.default.bcadd(t,e)},S=function(t,e){return u.default.bcsub(t,e)},j=function(t,e){return u.default.bcmul(t,e)},k=function(t,e){return u.default.bcdiv(t,e)},M=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-mm-dd";t=parseInt(t),t||(t=Number(new Date)),10==t.toString().length&&(t*=1e3);var n,o=new Date(t),a={"y+":o.getFullYear().toString(),"m+":(o.getMonth()+1).toString(),"d+":o.getDate().toString(),"h+":o.getHours().toString(),"M+":o.getMinutes().toString(),"s+":o.getSeconds().toString()};for(var r in a)n=new RegExp("("+r+")").exec(e),n&&(e=e.replace(n[1],1==n[1].length?a[r]:a[r].padStart(n[1].length,"0")));return e},O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-mm-dd";null==t&&(t=Number(new Date)),t=parseInt(t),10==t.toString().length&&(t*=1e3);var n=(new Date).getTime()-t;n=parseInt(n/1e3);var o="";switch(!0){case n<300:o="刚刚";break;case n>=300&&n<3600:o=parseInt(n/60)+"分钟前";break;case n>=3600&&n<86400:o=parseInt(n/3600)+"小时前";break;case n>=86400&&n<2592e3:o=parseInt(n/86400)+"天前";break;default:o=!1===e?n>=2592e3&&n<31536e3?parseInt(n/2592e3)+"个月前":parseInt(n/31536e3)+"年前":M(t,e)}return o},D=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null==t&&(t=Number(new Date)),t=parseInt(t),10==t.toString().length&&(t*=1e3);var e=(new Date).getTime()-t;e=parseInt(e/1e3);var n="";switch(!0){case e<86400:n=M(t,"hh:MM");break;case e>=86400&&e<604800:var o=new Date(t),a=["日","一","二","三","四","五","六"];switch((new Date).getDate()-o.getDate()){case 1:n=M(t,"昨天 hh:MM");break;case 2:n=M(t,"前天 hh:MM");break;default:n="星期"+a[o.getDay()]+M(t,"hh:MM")}break;case e>=604800:n=M(t,"mm-dd hh:MM");break;default:n=M(t,"yyyy-mm-dd hh:MM")}return n},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),a=[];if(n=n||o.length,t)for(var r=0;r<t;r++)a[r]=o[0|Math.random()*n];else{var i;a[8]=a[13]=a[18]=a[23]="-",a[14]="4";for(var u=0;u<36;u++)a[u]||(i=0|16*Math.random(),a[u]=o[19==u?3&i|8:i])}return e?(a.shift(),"u"+a.join("")):a.join("")},I=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:120,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:120,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"jpg",i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"resize",u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:3,d="",s=["m_lfit","m_mfit","m_fill","m_fixed"],l=["?x-oss-process=image","auto-orient,1","interlace,1","format,jpg","quality,q_90","sharpen,50","resize,m_fixed,w_120,h_120"];return"png"==r&&(l[3]=["format","png"].join(",")),l[6]=0==e?[i,s[o],"h_".concat(n*u)].join(","):0==n?[i,s[o],"w_".concat(e*u)].join(","):[i,s[o],"w_".concat(e*u),"h_".concat(n*u)].join(","),t?/^data:image\//.test(t)?d=t:/^(http|https):\/\/.+/.test(t)?(l.pop(),d="video"==a?t:t+l.join("/")):d="video"==a?c.default.cdnurl+t:c.default.cdnurl+t+l.join("/"):"transparent"==a||(d=y("avatar"==a?"/common/mine_def_touxiang_3x.png":"/common/img_default3x.png")),d},C=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"pop-in",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300;t.navigateTo({url:e,animationType:n,animationDuration:o,success:function(t){c.default.debug&&console.log(t)},fail:function(t){c.default.debug&&console.log(t)}})},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;console.log(e),t.navigateBack({delta:e})},N=function(t){C(r.default.state.user.isLogin?t:"/pages/user/auth/auth")},T=function(e){e=decodeURIComponent(e),"/pages/index"==e||"/pages/category"==e||"/pages/find"==e||"/pages/cart"==e||"/pages/user"==e?t.switchTab({url:e}):C(e)},$=function(t){i.default.post({url:"/flbooth/chat/send",data:t,success:function(e){u.default.setChat(t,"send")}})},B=function(e){t.makePhoneCall({phoneNumber:e})},H=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(t/1048576).toFixed(1)+(e?"MB":"")},F=function(){return""},L=function(t){return c.default[t]},q=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e="string"===typeof e?e:e.toString(),t.setClipboardData({data:e,success:function(){h(n?"复制成功 ".concat(e):"复制成功")},fail:function(){h("复制失败")}})};o.default.prototype.$flbooth={msg:h,prePage:v,wanlsys:m,title:b,appstc:y,toFormat:w,timeToDate:O,timeToChat:D,timeFormat:M,conver:H,guid:x,oss:I,to:C,on:T,auth:N,back:P,maks:F,send:$,phone:B,config:L,bcadd:_,bcsub:S,bcmul:j,bcdiv:k,copy:q},o.default.prototype.onGoods=function(t){C("/pages/product/goods?id=".concat(t))},o.default.prototype.orderDetails=function(t){C("/pages/user/order/details?id=".concat(t))},o.default.prototype.onShop=function(t){C("/pages/shop/index?id=".concat(t))},o.default.prototype.onShopGoods=function(t){C("/pages/shop/product/list?shop_id=".concat(t))},o.default.prototype.onLogistics=function(t){C("/pages/user/order/logistics?id=".concat(t))},o.default.prototype.toChat=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;C(e?"/pages/notice/chat?shop_id=".concat(t,"&goods=").concat(JSON.stringify(e)):"/pages/notice/chat?shop_id=".concat(t))},o.default.prototype.onDetails=function(t,e){C("/pages/article/details?id=".concat(t,"&title=").concat(e))},o.default.prototype.onAdvert=function(t){t.url&&!/^(http|https):\/\/.+/.test(t.url)?T(t.url):C("/pages/article/advert?id=".concat(t.id))},o.default.prototype.onLive=function(t){N("/pages/apps/find/details/live?id=".concat(t))},o.default.prototype.onFind=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;"live"==t.type?this.onLive(t.live_id):"video"==t.type?C("/pages/apps/find/details/video?id=".concat(t.id)):C(e?"/pages/apps/find/details/details?id=".concat(t.id,"&afferent=comments"):"/pages/apps/find/details/details?id=".concat(t.id))},a.default.mpType="app";var A=new o.default(p({store:r.default},a.default));e(A).$mount()}).call(this,n("543d")["default"],n("543d")["createApp"])},"59d7":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;o(n("66fd"));function o(t){return t&&t.__esModule?t:{default:t}}var a={onLaunch:function(){this.$store.dispatch("update/update"),this.$store.dispatch("common/init"),this.$store.dispatch("cart/get"),this.$store.dispatch("statistics/get")},onShow:function(){this.$store.dispatch("chat/start")},onHide:function(){this.$store.dispatch("chat/close")}};e.default=a},"63a4":function(t,e,n){"use strict";var o=n("76b5"),a=n.n(o);a.a},"76b5":function(t,e,n){},a5bc:function(t,e,n){"use strict";n.r(e);var o=n("59d7"),a=n.n(o);for(var r in o)"default"!==r&&function(t){n.d(e,t,(function(){return o[t]}))}(r);e["default"]=a.a},f252:function(t,e,n){"use strict";n.r(e);var o=n("a5bc");for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("63a4");var r,i,u,c,d=n("f0c5"),s=Object(d["a"])(o["default"],r,i,!1,null,null,null,!1,u,c);e["default"]=s.exports}},[["0c60","common/runtime","common/vendor"]]]);